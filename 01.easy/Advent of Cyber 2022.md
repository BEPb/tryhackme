
[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Advent of Cyber 2022](https://tryhackme.com/r/room/adventofcyber4) 

Всего 30 заданий:
## Задание 1
### Добро пожаловать в Advent of Cyber 2022

Начните с Cyber Security за 24 дня! Изучите основы и выполняйте новые, простые для новичков упражнения по 
безопасности каждый день до Рождества.  Это адвент-календарь, но с заданиями по безопасности вместо шоколада! 

### Главные призы 
У нас есть призы на сумму более 40 000 долларов !

В этом событии очки не имеют значения, а вот количество вопросов, на которые вы ответили, имеет значение! За каждый 
правильный ответ вы получаете лотерейный билет. Мы случайным образом выберем победителей 28 декабря, используя 
лотерейные билеты всех участников. Чем больше вопросов вы ответите, тем больше у вас шансов на победу. Вот призы, 
которые можно выиграть:   
- 6 подписок на курс Offensive Security Learn One ($12000)
- 1 TryHackMe пожертвует на благотворительность ($2000)
- 5 Raspberry Pi 400 ($580)
- 10 Airpods 2nd Gen Pro ($2500)
- 6 DJI Drone ($3000)
- 10 GoPro ($3500)
- 10 ваучеров CompTIA Security+ ($2700)	4x Remarkable 2 ($1200)
- 10x Flipper Zero ($2100)
- 12x ASUS ZenBook 14 8 ГБ ОЗУ , 512 ГБ SSD, Intel i5 ($8400)
- 10x Hak5 WiFi Pineapple ($1200)
- 10x Hak5 Rubber Ducky ($600)
- 15x ежемесячных подписок TryHackMe ($150)
- 5x купонов TryHackMe Swag на $20 ($100)

Общая стоимость призового фонда: ~ 40 100 долларов США
Победители подписки Learn One смогут выбрать курс по наступательной безопасности.
Просмотреть Условия и положения розыгрыша призов

### Ежедневные призы
Кроме того, каждый день, когда вы отвечаете на вопрос, вы получаете возможность принять участие в другом розыгрыше 
призов, чтобы выиграть мини-приз. Каждый день вы можете выиграть один из двух призов:  купон на подписку TryHackMe 
на 1 месяц или  купон на 15 фунтов стерлингов.

Победители каждого дня будут объявлены по понедельникам в Twitter, и с ними свяжутся по электронной почте.

### Как получить квалификацию
Чтобы претендовать на призы, вы должны ответить на вопросы в заданиях Advent of Cyber 2022, начиная с Дня 1 
(Задание 6 этой комнаты). Только ответы на вопросы в комнате Advent of Cyber 2022 позволят вам принять участие в 
лотерее.  

Для основного призового фонда не имеет значения, когда вы выполните задания, главное, чтобы вы выполнили их до 28 
декабря 2022 года. Чтобы претендовать на ежедневные призы, вы должны выполнить задания в дни их выпуска (например, 
завершить 8-й день 8 декабря).  

### Сертификат
Наконец, если вы выполните все задания в мероприятии, вы получите сертификат о завершении! Убедитесь, что ваше имя указано в вашем профиле .
Посмотреть образец сертификата

### Видеоролики с описанием
Для каждого выпущенного задания есть видеоруководство. Вы можете ожидать, что некоторые из ваших любимых создателей 
видео по кибербезопасности и стримеров проведут вас через испытания!  В этом году мы представляем Джона Хаммонда, 
Cybersecurity Meg, Husky Hacks, SecurityNinja,  Нила Бриджеса, InsiderPHD  и других! 

### Темы включают в себя
темы, которые будут рассмотрены на мероприятии:

Красная команда Безопасное кодирование Веб-уязвимости Синяя команда Взлом Интернета вещей
### Ответить на вопросы ниже
Прочитайте вышеизложенное и ознакомьтесь с призами! 
```commandline
Ответ не нужен
```

## Задание 2
### Краткое руководство
Новые задания появляются ежедневно в случайное время между 12:00 по Гринвичу и 20:00 по Гринвичу, первый вызов 
появится 1 декабря. Они будут различаться по сложности (хотя всегда будут нацелены на начальный уровень). 

Каждое задание в мероприятии будет включать инструкции по взаимодействию с практическим материалом. Пожалуйста, 
внимательно следуйте им! Ниже приведены некоторые общие рекомендации по подключению: 
- Мы настоятельно рекомендуем вам пройти  обучающую  комнату, чтобы узнать больше о подключении.
- Чтобы получить доступ к некоторым целевым машинам, которые вы развернете на TryHackMe, вам потребуется либо 
  использовать клиент OpenVPN, либо развернуть собственный веб-ориентированный AttackBox.
- Вы можете развернуть AttackBox, нажав синюю кнопку «Запустить AttackBox» в верхней части этой страницы.
- Используя веб-ориентированный AttackBox, вы можете выполнять упражнения через браузер. Если вы постоянный 
  пользователь, вы можете развернуть AttackBox  бесплатно на 1 час в день ; если вы  подписаны , вы можете развернуть его на неограниченное количество времени!
- Одно из заданий в этом событии потребует от вас развернуть Kali Linux VM вместо AttackBox. Если вы не являетесь 
  подписчиком, вам нужно будет использовать собственную VM для этой задачи и подключиться через OpenVPN. 
- Для некоторых задач вам потребуется только развернуть виртуальную машину , не создавая AttackBox.
- В некоторых задачах будет задействовано взаимодействие с сайтами — в этом случае будет достаточно запустить 
  веб-сайт с помощью соответствующей кнопки и открыть его в режиме разделенного просмотра.
### Правила
Нарушение любого из следующих правил приведет к исключению из мероприятия:
- .tryhackme.com и сервер OpenVPN недоступны для зондирования, сканирования или эксплуатации.
- Пользователям разрешено взламывать только те машины, которые размещены в тех комнатах, к которым у них есть доступ.
- Пользователям не разрешается преследовать или атаковать других пользователей.
- Пользователи должны войти в мероприятие только один раз, используя одну учетную запись.
- Ответы на вопросы не подлежат разглашению, за исключением случаев, когда они показаны на видео/трансляциях.

### Ответить на вопросы ниже
Потренируйтесь подключаться к нашей сети!

```commandline
Ответ не нужен
```

## Задание 3
### Ответить на вопросы ниже
Подпишитесь на нас в LinkedIn !
```commandline
Ответ не нужен
```
Присоединяйтесь к нашему Discord и поздоровайтесь!
```commandline
Ответ не нужен
```
Следуйте за нами на Twitter !
```commandline
Ответ не нужен
```
Загляните на сабреддит !
```commandline
Ответ не нужен
```
Присоединяйтесь к нам в  Instagram ! 
```commandline
Ответ не нужен
```
Следите за нами на  Фейсбуке !
```commandline
Ответ не нужен
```
Посмотрите, что мы делаем на Pinterest ! 
```commandline
Ответ не нужен
```

## Задание 4
### Подписка
Событие Advent of Cyber полностью бесплатное! Однако ознакомьтесь с некоторыми причинами, по которым стоит 
подписаться:  
- В честь Advent of Cyber вы можете получить скидку  20% на  персональные годовые подписки, используя код скидки  
AOC2022 при оформлении заказа. Эта скидка действительна только до 7 декабря, то есть в: 

Если вы хотите подарить VIP-подписку TryHackMe, вы можете  приобрести ваучеры .

### Рождественские сувениры
Хотите представить сувениры от вашей любимой платформы обучения кибербезопасности?
У нас есть специальный выпуск рождественской футболки Advent of Cyber, доступный прямо сейчас — посетите наш  
магазин сувениров,  чтобы заказать свою!


### Завершение Advent of Cyber как организации

С помощью панели управления TryHackMe  для бизнеса вы можете делать следующее:
- Получите полный доступ ко всем комнатам и функциям TryHackMe, включая Advent of Cyber
- Используйте конкурентное обучение и коллективно вовлекайте свою команду в выполнение задач Advent of Cyber, 
  оценивая их прогресс
- Создавайте индивидуальные программы обучения для глубокого погружения в дальнейшие темы обучения на основе Advent 
  of Cyber и не только
Мы также проводим ограниченный набор корпоративных обучающих вебинаров для клиентов TryHackMe for Business, чтобы 
  глубоко изучить некоторые темы, которые мы прорабатываем в рамках Advent of Cyber. Более подробная информация об 
  этом появится после начала мероприятия!  

Если вы заинтересованы в изучении множества бизнес-преимуществ TryHackMe, свяжитесь с sales@tryhackme.com для 
получения недельной бесплатной пробной версии панели управления. Настраивайте пути и отслеживайте прогресс своей 
команды для повышения вовлеченности, удовольствия и кибербезопасности!  

Если вы являетесь нашим постоянным клиентом и хотите привлечь к участию более широкую команду и компанию, обратитесь 
к своему персональному менеджеру по работе с клиентами! 

### Ответить на вопросы ниже
Прочитайте вышеизложенное.

```commandline
Ответ не нужен
```

## Задание 5
[Кошмар перед Эльфмасом]

Все упражнения в Advent of Cyber следуют веселой рождественской истории. В этом году эльфу МакСкиди нужна ваша 
помощь, чтобы расследовать серьезную брешь и проверить все оставшиеся системы на наличие уязвимостей безопасности.



Ах, праздничный сезон снова близко! Возможно, вы этого еще не чувствуете, но далеко на севере Эльф МакСкиди уже 
занят тем, чтобы вы получили свои подарки в этом году. Когда она шла по двору мастерской Санты этим утром с чашкой 
горячего шоколада в руках, все, казалось, шло отлично! Подарки упаковывались, олени тренировались на беговых 
дорожках, а сани Санты полировались, все место просто кишело эльфийской деятельностью.   

Когда МакСкиди вошла в офис, она сразу заметила, что что-то на самом деле было не в порядке. Большая, темная, 
полузамороженная карточка просто лежала на ее столе! Кто ее туда положил? Как они попали в запертую комнату Центра 
операций по безопасности ( SOC )? Чего они хотели от директора по информационной безопасности Best Festival Company?!  

Не долго думая, Макскиди нажал большую кнопку «ТРЕВОГА» и крикнул: «Сотрудники службы безопасности! Все наверх. У 
нас инцидент!» 

Ей не пришлось долго ждать — довольно скоро в коридорах офисов Best Festival Company появилась группа специалистов 
по безопасности, мчащаяся в комнату SOC . McReds, этичные хакеры под командованием Санты, которые находят уязвимости 
раньше, чем это сделают плохие парни, вышли из мастерской. Первым был Elf Exploit McRed, затем Elf Recon и, наконец, 
Elf Pivot, катающиеся по ледяному полу. McBlues выбежали со двора, где они устанавливали наблюдение, поскольку они 
отвечают за оборону Санты. McSkidy наблюдал, как Elf Log McBlue вбежали внутрь, за ними последовали Elf Admin и 
Elf ​​Forensic, громко звеня снаряжением, закрепленным на поясах.  Команда безопасности Санты окружила McSkidy, все 
затаили дыхание. McSkidy дрожащими руками взяла со стола зловещую карточку, открыла ее, и все увидели, что было 
внутри:       

    Ох ох ох,
    Кто-то в этом году плохо себя вел, оставив ваш магазин открытым!
    Мы начали с небольшой головоломки. Посмотрим, что еще мы можем сделать!
        - Ваш Тайный Санта

«Но наш магазин не был открыт! Дверь была заперта, когда я вошел. И вы следите за стенами, верно?» — МакСкиди 
посмотрела на свою команду в поисках поддержки. После нескольких щелчков по клавиатуре на ближайшем компьютере, 
администратор МакБлю объявил: «Это сайт сувенирного магазина, МакСкиди. Его испортили. Там…. Головоломка? Там 
говорится, что мы узнаем, кто это сделал, если решим ее».   

В комнате SOC на несколько секунд воцарилась тишина, а затем другие эльфы начали кричать:
- «Нам нужно провести расследование!», «Проверьте журналы!», «Проверьте мониторинг!», «Проведите аудит других систем!
  », «Заблокируйте сеть!» 
- Макскиди подняла руку, ожидая, пока эльфы успокоятся. «Мы уже проходили через что-то подобное в прошлом году. В 
  этом году мы снова спасаем Рождество!» 
- Увидимся в ежедневных заданиях! Надеемся, вы поможете McSkidy и команде узнать, кто их таинственный противник, 
  расследовать инцидент и снова защитить свои системы. Обратите внимание, что сложность заданий может меняться 
  каждый день, но они всегда будут легкодоступны для новичков в кибербезопасности. Веселитесь в Advent of Cyber!  

### Ответить на вопросы ниже
В некоторых заданиях используется рождественская история, поэтому обязательно прочтите вышеизложенное.
```commandline
Ответ не нужен
```
## Задание 6
### Лучшая фестивальная компания скомпрометирована
Кто-то пытается остановить Рождество в этом году и помешать Санте доставлять подарки детям, которые были хорошими в 
этом году. Сайт Best Festival Company  был взломан, и дети по всему миру не могут отправлять свои запросы на подарки.
Необходимо проделать большую работу по расследованию атаки и тестированию других систем! Злоумышленники оставили 
головоломку, которую эльфы должны  решить и узнать, кто их противники. Макскиди посмотрела на головоломку и узнала 
некоторые ее части как фазы Unified Kill Chain , фреймворка безопасности, используемого для понимания 
злоумышленников. Она обратилась к вам, чтобы вы помогли им восстановить их сайт, идентифицировать злоумышленника и 
помочь спасти Рождество.      

### Рамки безопасности
Такие организации, как Santa's Best Festival Company, должны корректировать и улучшать свои усилия по 
кибербезопасности, чтобы предотвратить утечки данных. Фреймворки безопасности вступают в игру, чтобы направлять 
настройку программ безопасности и улучшать состояние безопасности организации.

Рамки безопасности — это документированные процессы, определяющие политики и процедуры, которым должны следовать 
организации для установления и управления средствами контроля безопасности. Это чертежи для выявления и управления 
рисками, с которыми они могут столкнуться, а также слабыми местами, которые могут привести к атаке.  

Фреймворки помогают организациям избавиться от догадок по защите своих данных и инфраструктуры, устанавливая 
процессы и структуры в стратегическом плане. Это также поможет им достичь коммерческих и государственных нормативных 
требований.  

Давайте углубимся и кратко рассмотрим наиболее часто используемые фреймворки.

### Структура кибербезопасности NIST
Cybersecurity Framework ( CSF ) был разработан Национальным институтом стандартов и технологий ( NIST ) и 
предоставляет организациям подробные рекомендации по управлению и снижению рисков кибербезопасности. Framework 
фокусируется на пяти основных функциях: Identify-> Protect-> -> Detect-> Respond-> Recover. Благодаря этим функциям 
framework позволяет организациям расставлять приоритеты в своих инвестициях в кибербезопасность и заниматься 
постоянным совершенствованием в направлении целевого профиля кибербезопасности.    

### Серия ISO 27000
Международная организация по стандартизации (ISO) разрабатывает ряд фреймворков для различных отраслей и секторов. 
Стандарты ISO 27001 и 27002 широко известны в области кибербезопасности и определяют требования и процедуры для 
создания, внедрения и управления системой управления информационной безопасностью (ISMS). Эти стандарты можно 
использовать для оценки способности учреждения соответствовать установленным требованиям информационной безопасности 
посредством применения управления рисками.    

### Фреймворк MITRE ATT&CK
Определение планов атаки противника может быть сложным , если приступать к ним вслепую. Их можно понять с помощью 
поведения, методов, инструментов и стратегий, установленных для атаки, обычно известных как Tactics , Techniques and 
Procedures (TTP). Фреймворк MITRE ATT&CK представляет собой базу знаний TTP, тщательно отобранную и детализированную,
чтобы гарантировать, что команды по безопасности могут идентифицировать шаблоны атак. Структура фреймворка похожа на 
периодическую таблицу, сопоставляющую методы с фазами цепочки атак и ссылающуюся на эксплуатируемые системные 
платформы.      

Эта структура подчеркивает подробный подход, который она обеспечивает при рассмотрении атаки. Она объединяет 
информацию о кибербезопасности, специфичную для среды, чтобы предоставить аналитические сведения о киберугрозах, 
которые помогают командам разрабатывать эффективные программы безопасности для своих организаций. Погрузитесь глубже 
в структуру, изучив специальную комнату MITRE .    

### Кибер-цепочка убийств
Ключевая концепция этой структуры была заимствована из военных с терминологией kill chain , которая описывает 
структуру атаки и состоит из идентификации цели, решения и приказа атаковать цель и, наконец, уничтожения цели. 
Разработанная Lockheed Martin, cyber kill chain описывает этапы, которым обычно следуют кибератаки, и защитники 
безопасности могут использовать структуру как часть обороны, основанной на разведданных.    

В Cyber Kill Chain изложено семь этапов, которые повышают наглядность и понимание тактики, методов и процедур противника.

Изображение, демонстрирующее семь шагов Cyber Kill Chain.

Погрузитесь глубже в цепочку убийств, посетив специальную комнату Cyber Kill Chain .

### Единая цепочка убийств
Как установлено в нашем сценарии, команда Санты получила подсказку о том, кто мог напасть на них, и указала на нее 
Единой Цепи Убийств ( UKC ). Команда Elf Blue начинает свое расследование. 

Unified Kill Chain можно описать как объединение фреймворков MITRE ATT&CK и Cyber Kill Chain. Опубликованный Полом 
Полсом в 2017 году (и пересмотренный в 2022 году), UKC предоставляет модель защиты от кибератак с точки зрения 
противника. UKC предлагает группам безопасности план для анализа и сравнения разведданных об угрозах, касающихся 
состязательного режима работы.   

Unified Kill Chain описывает 18 фаз атаки на основе тактики, техники и процедур (TTP).  Отдельные фазы можно 
объединить для формирования всеобъемлющих целей, таких как получение первоначального плацдарма в целевой сети, 
перемещение по сети для расширения доступа и выполнение действий над критически важными активами. Команде 
безопасности Санты необходимо будет понять, как эти фазы объединяются с точки зрения злоумышленника.   

### ЦИКЛ 1: В
Основное внимание в этой серии фаз направлено на то, чтобы злоумышленник получил доступ к системе или сетевой среде. 
Обычно кибератаки инициируются внешним злоумышленником. Критические шаги, которым они следуют, следующие:  

- Йети наблюдает за тем, как эльфы Санты упаковывают подарки.
- Разведка : злоумышленник проводит исследование цели, используя общедоступную информацию.
- Вооружение : создание необходимой инфраструктуры для размещения центра управления и контроля ( C2 ) имеет решающее 
  значение при проведении атак.
- Доставка : Полезные данные — это вредоносные инструменты,  доставляемые цели различными способами, такими как 
  фишинг электронной почты и атаки на цепочки поставок.
- Социальная инженерия : злоумышленник обманывает свою цель, заставляя ее выполнять ненадежные и небезопасные 
  действия с только что доставленной полезной нагрузкой, часто создавая видимость того, что ее сообщение пришло из надежного внутреннего источника.
- Эксплуатация : если злоумышленник обнаружит существующую уязвимость, слабость программного или аппаратного 
  обеспечения в сетевых активах, он может использовать ее для активации своей полезной нагрузки.
- Упорство : злоумышленник оставит запасное присутствие в сети или активе, чтобы обеспечить себе точку доступа к 
  своей цели.
- Уклонение от защиты : злоумышленник должен сохранять анонимность на протяжении всех своих атак, отключая и избегая 
  любых включенных механизмов защиты безопасности, включая удаление доказательств своего присутствия.
- Command & Control : Помните инфраструктуру, которую подготовил злоумышленник? Канал связи между скомпрометированной 
  системой и инфраструктурой злоумышленника устанавливается через Интернет.
Эту фазу можно считать циклом, поскольку злоумышленник может быть вынужден изменить тактику или модифицировать 
  методы, если не удастся обеспечить вход в сеть. 

### ЦИКЛ 2: Через
На этом этапе злоумышленники будут заинтересованы в получении большего доступа и привилегий к активам в сети.

Злоумышленник может повторять эту фазу до тех пор, пока не получит желаемый доступ.

Йети собирает дары, получив доступ на склад.
- Поворот : Помните систему, которую злоумышленник может использовать для 
сохранения? Эта система станет стартовой площадкой для атаки на другие системы в сети. 
- Discovery : Атакующий будет стремиться собрать как можно больше информации о скомпрометированной системе, например, 
  о доступных пользователях и данных. В качестве альтернативы они могут удаленно обнаружить уязвимости и активы в сети. Это открывает путь для следующего этапа.
- Повышение привилегий : Ограниченный доступ не позволяет злоумышленнику выполнить свою миссию. Поэтому они будут 
  стремиться получить более высокие привилегии на скомпрометированных системах, эксплуатируя выявленные уязвимости или неправильные конфигурации.
- Выполнение : при наличии повышенных привилегий вредоносный код может быть загружен и выполнен с целью извлечения 
  конфиденциальной информации или нанесения дальнейшего ущерба системе.
- Доступ к учетным данным : Часть извлеченной конфиденциальной информации будет включать учетные данные для входа, 
  хранящиеся на жестком диске или в памяти. Это дает злоумышленнику больше огневой мощи для его атак.
- Горизонтальное перемещение : используя извлеченные учетные данные, злоумышленник может перемещаться по различным 
  системам или хранилищам данных в сети, например, в пределах одного отдела.
ПРИМЕЧАНИЕ : Ключевой элемент, который, как можно подумать, отсутствует, — это Доступ. Он формально не 
  рассматривается как фаза UKC , поскольку он пересекается с другими фазами на разных уровнях, что приводит к тому, 
  что противник достигает своих целей для атаки.  

### ЦИКЛ 3: Выход
Конфиденциальность, целостность и доступность ( CIA ) активов или услуг подвергаются риску на этом этапе. Деньги, 
слава или саботаж заставят злоумышленников следовать своим целям для осуществления своих атак, нанести как можно 
больше ущерба и исчезнуть, не будучи обнаруженными.  

Йети покидает склад Санты, довольный своей добычей.
- Сбор : Найдя джекпот данных и информации, злоумышленник попытается собрать все, что ему нужно. При этом 
конфиденциальность активов будет полностью скомпрометирована, особенно когда речь идет о коммерческих секретах и ​​финансовой или персонально идентифицируемой информации ( PII ), которая должна быть защищена.
- Эксфильтрация : Атакующий должен вывести свою добычу из сети. Могут быть использованы различные методы, чтобы 
  гарантировать достижение своих целей, не вызывая подозрений.
- Влияние : При компрометации доступности или целостности актива или информации злоумышленник будет использовать все 
  полученные привилегии для манипулирования, прерывания и саботажа. Представьте себе репутационный, финансовый и социальный ущерб, который придется восстанавливать организации.
- Цели : у злоумышленников могут быть другие цели, которые могут повлиять на социальный или технический ландшафт, в 
  котором действуют их цели. Определение и понимание этих целей, как правило, помогает группам безопасности ознакомиться с инструментами атак противника и провести оценку рисков для защиты своих активов.

### Спасение лучшей фестивальной компании
Проведя проверку UKC вместе с командой безопасности Санты, стало очевидно, что необходимо реализовать более 
эффективные стратегии защиты для повышения устойчивости к атакам. 

Ваша задача — помочь эльфам решить головоломку, оставленную им, чтобы определить, кто пытается остановить Рождество. 
Нажмите кнопку «Просмотр сайта» в верхней части задания, чтобы запустить статический сайт в разделенном виде. 
Возможно, вам придется открыть статический сайт в новом окне и увеличить масштаб, чтобы лучше рассмотреть части 
головоломки.   

Синяя команда эльфов Санты играет с деталями головоломки Unified Kill Chain.

### Ответить на вопросы ниже
Кто в этом году атаковал сеть Санты?
```commandline
The Bandit Yeti
```
Какой флаг они оставили после себя?
```commandline
THM{IT'S A Y3T1 CHR1$TMA$}
```
Хотите узнать больше? Посетите комнаты  Unified Kill Chain ,  Cyber Kill Chain ,  MITRE или весь модуль Cyber Defence Frameworks!  
```commandline
Ответ не нужен
```

## Задание 7
Посмотрите видеообзор CMNatic для второго дня здесь !

Центр безопасности операций Санты (SSOC) обнаружил, что один из их веб-серверов,  santagift.shop  , был захвачен 
группой Bandit Yeti APT . Задача Эльфа МакБлю — проанализировать файлы журналов, полученные с веб-сервера, чтобы 
понять, что происходит, и выследить группу Bandit Yeti APT .  

фотография ElfMcBlue

### Цели обучения

В сегодняшнем задании вы:
- Узнайте, что такое файлы журналов и почему они полезны
- Понять, какую ценную информацию могут содержать файлы журналов
- Поймите некоторые общие места, где можно найти эти файлы журналов.
- Используйте некоторые базовые команды Linux , чтобы начать анализировать файлы журналов для получения ценной 
  информации.
- Помогите Эльфу МакБлю выследить Бандита Йети APT !
Что такое файлы журналов и почему они полезны

Файлы журнала — это файлы, которые содержат исторические записи событий и другие данные из приложения. Некоторые 
общие примеры событий, которые вы можете найти в файле журнала: 
- Попытки входа или неудачи
- Трафик в сети
- Вещи (URL-адреса веб-сайтов, файлы и т. д.), к которым был получен доступ
- Изменение пароля
- Ошибки приложения (используются при отладке)
и многое, многое другое


Файлы журналов, содержащие историческую запись произошедших событий, являются чрезвычайно важными доказательствами при расследовании:
- Что произошло?
- Когда это произошло?
- Где это произошло?
- Кто это сделал? Удалось ли им это?
- Каков результат этого действия?


Например, системный администратор может захотеть регистрировать трафик, происходящий в сети. Мы можем использовать 
  регистрацию, чтобы ответить на вопросы выше в данном сценарии: 


Распространенные расположения файлов журналов

### Окна
Windows имеет встроенное приложение, которое позволяет нам получать доступ к историческим записям событий, которые 
происходят. Event Viewer показан на рисунке ниже: 

изображение средства просмотра событий в Windows

Эти события обычно подразделяются на следующие категории:
Список файлов журналов в каталоге /var/log
```commandline
cmnatic@aoc2022-day-2:/var/log$ ls -lah
total 724K
drwxrwxr-x   9 root      syslog          4.0K Nov 14 10:59 .
drwxr-xr-x  13 root      root            4.0K Oct 26  2020 ..
drwxr--r-x   3 root      root            4.0K Nov 14 10:56 amazon
drwxr-xr-x   2 root      root            4.0K Oct 26  2020 apt
-rw-r-----   1 syslog    adm              11K Nov 14 11:03 auth.log
-rw-rw----   1 root      utmp               0 Oct 26  2020 btmp
-rw-r--r--   1 root      root            7.3K Nov 14 10:59 cloud-init-output.log
-rw-r--r--   1 syslog    adm             251K Nov 14 10:59 cloud-init.log
drwxr-xr-x   2 root      root            4.0K Oct  7  2020 dist-upgrade
-rw-r--r--   1 root      adm              36K Nov 14 10:59 dmesg
-rw-r--r--   1 root      adm              36K Nov 14 10:56 dmesg.0
-rw-r--r--   1 root      root             12K Oct 26  2020 dpkg.log
drwxr-sr-x+  3 root      systemd-journal 4.0K Nov 14 10:55 journal
-rw-r-----   1 syslog    adm              98K Nov 14 10:59 kern.log
drwxr-xr-x   2 landscape landscape       4.0K Nov 14 10:57 landscape
-rw-rw-r--   1 root      utmp            286K Nov 14 11:03 lastlog
drwx------   2 root      root            4.0K Nov 14 10:55 private
-rw-r-----   1 syslog    adm             207K Nov 14 11:03 syslog
drwxr-x---   2 root      adm             4.0K Nov 14 10:55 unattended-upgrades
-rw-rw-r--   1 root      utmp            8.3K Nov 14 11:03 wtmp
```

В следующей таблице приведены некоторые важные файлы журналов:

Файлы журналов могут быстро содержать множество событий и сотни, если не тысячи записей. Сложность анализа файлов журналов заключается в отделении полезной информации от бесполезной. Такие инструменты, как Splunk, являются программными решениями, известными как Security Information and Event Management ( SIEM ), и предназначены для агрегации журналов для анализа. В таблице ниже перечислены некоторые преимущества и недостатки этих платформ:

Грэп 101Эльф из синей команды держит перо и блокнот.

Grep  — это команда, предназначенная для поиска заданного текста в файле.  Grep  берет заданные входные данные 
(текст или значение) и ищет во всем файле любой текст, который соответствует нашим входным данным.  

Перед использованием  grepнам нужно найти местоположение файла журнала, который мы хотим найти. По умолчанию  grep 
будет использоваться ваш текущий рабочий каталог. Вы можете узнать, какой у вас текущий рабочий каталог, используя  
pwd. Например, в терминале ниже мы находимся в рабочем каталоге  /home/cmnatic/aoc2022/day2/:  


Использование pwd для просмотра текущего рабочего каталога
```commandline
cmnatic@thm:~/aoc2022/day2 pwd
           /home/cmnatic/aoc2022/day2/
```

Если мы хотим изменить наш текущий рабочий каталог, вы можете использовать ,  cd а затем новый путь, на который вы 
хотите изменить. Например,  .cd /my/path/here Как только мы определили, что находимся в правильном каталоге, мы 
можем использовать ,  чтобы ls перечислить  файлы и каталоги в нашем текущем рабочем пути. Пример этого был помещен 
в терминал ниже:   

Использование ls для вывода списка файлов и каталогов в нашем текущем каталоге
```commandline
cmnatic@aoc2022-day-2:~$ ls -lah
webserver.log helloworld.txt mydirectory
```

Теперь, когда мы знаем, где находятся наши файлы журналов, мы можем приступить к изучению того, как использовать  
grep. Чтобы использовать grep, нам нужно сделать три вещи: 
- Вызовите команду.
- Укажите любые параметры, которые мы хотим использовать (это будет объяснено позже), но сейчас мы можем это 
  проигнорировать.
- Укажите местоположение файла, в котором мы хотим выполнить поиск ( grep сначала будет предполагаться, что файл 
  находится в вашем текущем каталоге, если вы не укажете иное, указав путь к файлу, например  /path/to/our/logfile.log ).
Например, в терминале ниже мы используем  grep для просмотра файла журнала IP-адреса. Файл журнала находится в нашем 
  текущем рабочем каталоге, поэтому нам не нужно указывать путь к файлу журнала — только имя файла журнала. 

Использование grep для поиска в файле журнала активности с IP-адреса
```commandline
ubuntu@thm:~ grep "192.168.1.30" access.log
192.168.1.30 - - [14/Nov/2022:00:53:07 +0000] "GET / HTTP/1.1" 200 13742
192.168.1.30 - - [14/Nov/2022:00:53:43 +0000] "HEAD
```

В терминале выше мы видим две записи в этом файле журнала (access.log) для IP-адреса " 192.168.1.30 ". Для справки, 
мы сузили две записи из файла журнала с 469 записями. Наша жизнь уже стала проще! Вот несколько идей для вещей, 
которые вы можете захотеть использовать grep для поиска в файле журнала:  
- Имя компьютера.
- Имя файла.
- Имя учетной записи пользователя.
- IP-адрес.
- Определенная временная метка или дата.
Как упоминалось ранее, мы можем предоставить некоторые параметры, чтобы  grep иметь больше контроля над результатами 
  grep. Таблица ниже содержит некоторые общие параметры, которые вы можете использовать с  grep.  


Практика:

логотип группы BanditYeti APT

Для сегодняшней задачи вам нужно будет развернуть машину, прикрепленную к этой задаче, нажав зеленую кнопку 
«Запустить машину», расположенную в правом верхнем углу этой задачи. Машина должна запуститься в режиме разделенного 
экрана. Если этого не произошло, вам нужно будет нажать синюю кнопку «Показать разделенный экран» около правого 
верхнего угла этой страницы.   

При желании вы можете использовать следующие учетные данные для доступа к машине по SSH (не забудьте сначала 
подключиться к VPN ): 

- IP-адрес: MACHINE_IP
- Имя пользователя: elfmcblue
- Пароль: попробуйте взломать меня!
Используйте знания, полученные вами в сегодняшнем задании, чтобы помочь Эльфу МакБлю выследить APT Бандита Йети, 
ответив на вопросы ниже. 

### Ответить на вопросы ниже
Убедитесь, что вы подключены к развертываемой машине при выполнении этой задачи.
```commandline
Ответ не нужен
```
Используйте  ls команду для вывода списка файлов, присутствующих в текущем каталоге. Сколько файлов журнала 
присутствует? 
```commandline
2
```
Elf McSkidy удалось захватить логи, сгенерированные веб-сервером. Как называется этот файл журнала?
```commandline
webserver.log
```
Начните исследование файла журнала с вопроса №3, чтобы ответить на следующие вопросы.
```commandline
Ответ не нужен
```
В какой день у Санты украли список хороших и плохих поступков?
```commandline
Friday
```
Каков IP-адрес злоумышленника?
```commandline
10.10.249.191
```
Как называется важный список, который злоумышленник украл у Санты?
```commandline
santaslist.txt
```
Просмотрите файлы журнала на предмет флага. Формат флага: THM{}
```commandline
THM{STOLENSANTASLIST}
```
Интересуетесь анализом журналов? Мы рекомендуем  комнату журналов событий Windows  или  модуль мониторинга 
безопасности конечных точек.  
```commandline
Ответ не нужен
```

## Задание 8

```commandline
Ответ не нужен
```

## Задание 9

```commandline
Ответ не нужен
```

## Задание 10

```commandline
Ответ не нужен
```
## Задание 11

```commandline
Ответ не нужен
```

## Задание 12

```commandline
Ответ не нужен
```

## Задание 13

```commandline
Ответ не нужен
```

## Задание 14

```commandline
Ответ не нужен
```

## Задание 15

```commandline
Ответ не нужен
```
## Задание 16

```commandline
Ответ не нужен
```

## Задание 17

```commandline
Ответ не нужен
```

## Задание 18

```commandline
Ответ не нужен
```

## Задание 19

```commandline
Ответ не нужен
```

## Задание 20

```commandline
Ответ не нужен
```
## Задание 21

```commandline
Ответ не нужен
```

## Задание 22

```commandline
Ответ не нужен
```

## Задание 23

```commandline
Ответ не нужен
```

## Задание 24

```commandline
Ответ не нужен
```

## Задание 25

```commandline
Ответ не нужен
```
## Задание 26

```commandline
Ответ не нужен
```

## Задание 27

```commandline
Ответ не нужен
```

## Задание 28

```commandline
Ответ не нужен
```

## Задание 29

```commandline
Ответ не нужен
```

## Задание 30

```commandline
Ответ не нужен
```
[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)