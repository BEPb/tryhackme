[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Putting it all together](https://tryhackme.com/r/room/puttingitalltogether) 

Всего 4 задания:
## Задание 1
Собираем все вместе

Из предыдущих модулей вы узнали, что при запросе веб-страницы в браузере происходит довольно много событий.

Подводя итог, когда вы запрашиваете веб-сайт, ваш компьютер должен знать IP-адрес сервера, с которым он должен 
связаться; для этого он использует DNS. Затем ваш компьютер общается с веб-сервером, используя специальный набор 
команд, называемый протоколом HTTP ; затем веб-сервер возвращает HTML, JavaScript, CSS, изображения и т. д., которые 
ваш браузер затем использует для правильного форматирования и отображения веб-сайта для вас.   

Есть также несколько других компонентов, которые помогают Интернету работать более эффективно и предоставляют 
дополнительные функции. 

### Ответить на вопросы ниже
Я это прочитал...
```commandline
Ответ не нужен
```

## Задание 2
Балансировщики нагрузки

Когда трафик веб-сайта становится слишком большим или запущено приложение, которому требуется высокая доступность, 
один веб-сервер может больше не справляться с работой. Балансировщики нагрузки предоставляют две основные функции, 
гарантируя, что веб-сайты с высоким трафиком смогут справиться с нагрузкой, и обеспечивая отказоустойчивость, если 
сервер перестает отвечать.   
Когда вы запрашиваете веб-сайт с балансировщиком нагрузки, балансировщик нагрузки сначала получит ваш запрос, а 
затем перенаправит его на один из нескольких серверов за ним. Балансировщик нагрузки использует различные алгоритмы, 
чтобы помочь ему решить, какой сервер лучше всего справится с запросом. Несколько примеров таких алгоритмов —  
round-robin , который отправляет его на каждый сервер по очереди, или  weighted , который проверяет, сколько 
запросов в данный момент обрабатывает сервер, и отправляет его на наименее загруженный сервер.    

Балансировщики нагрузки также выполняют периодические проверки каждого сервера, чтобы убедиться, что они работают 
правильно; это называется проверкой работоспособности. Если сервер не отвечает должным образом или не отвечает 
вообще, балансировщик нагрузки прекратит отправку трафика до тех пор, пока он снова не ответит должным образом.


### CDN (сети доставки контента)

CDN может быть отличным ресурсом для сокращения трафика на загруженном веб-сайте. Он позволяет вам размещать 
статические файлы с вашего веб-сайта, такие как JavaScript, CSS, изображения, видео, и размещать их на тысячах 
серверов по всему миру. Когда пользователь запрашивает один из размещенных файлов, CDN определяет, где физически 
находится ближайший сервер, и отправляет запрос туда, а не на другой конец света.   

### Базы данных

Часто веб-сайтам требуется способ хранения информации для своих пользователей. Веб-серверы могут взаимодействовать с 
базами данных для хранения и извлечения данных из них. Базы данных могут варьироваться от простого текстового файла 
до сложных кластеров из нескольких серверов, обеспечивающих скорость и устойчивость. Вы столкнетесь с некоторыми 
распространенными базами данных: MySQL, MSSQL, MongoDB, Postgres и другими; каждая из них имеет свои особенности.   

### WAF (брандмауэр веб-приложений)

WAF располагается между вашим веб-запросом и веб-сервером; его основная цель — защитить веб-сервер от взлома или 
атак типа «отказ в обслуживании». Он анализирует веб-запросы на предмет распространенных методов атак, независимо от 
того, исходит ли запрос от реального браузера или бота. Он также проверяет, не отправляется ли чрезмерное количество 
веб-запросов, используя так называемое ограничение скорости, которое разрешает только определенное количество 
запросов с IP в секунду. Если запрос считается потенциальной атакой, он будет отклонен и никогда не будет отправлен 
на веб-сервер.     


### Ответить на вопросы ниже
Что можно использовать для размещения статических файлов и ускорения посещения веб-сайта клиентами?
```commandline
CDN
```
Что делает балансировщик нагрузки, чтобы убедиться, что хост все еще активен?
```commandline
health check
```
Что можно использовать для защиты сайта от взлома?
```commandline
WAF
```

## Задание 3
Как работают веб-серверы.

### Что такое веб-сервер?

Веб-сервер — это программное обеспечение, которое прослушивает входящие соединения, а затем использует протокол HTTP 
для доставки веб-контента своим клиентам. Наиболее распространенное программное обеспечение веб-сервера, с которым 
вы столкнетесь, — это Apache, Nginx, IIS и NodeJS. Веб-сервер доставляет файлы из так называемого корневого каталога,
который определяется в настройках программного обеспечения. Например, Nginx и Apache используют одно и то же 
расположение по умолчанию /var/www/html в операционных системах Linux, а IIS использует C:\inetpub\wwwroot для 
операционных систем Windows. Так, например, если вы запросили файл  http://www.example.com/picture.jpg , он отправит 
файл /var/www/html/picture.jpg со своего локального жесткого диска.      

### Виртуальные Хосты

Веб-серверы могут размещать несколько веб-сайтов с разными доменными именами; для этого они используют виртуальные 
хосты. Программное обеспечение веб-сервера проверяет запрашиваемое имя хоста из заголовков HTTP и сопоставляет его 
со своими виртуальными хостами (виртуальные хосты — это просто текстовые файлы конфигурации). Если совпадение 
найдено, будет предоставлен правильный веб-сайт. Если совпадений не найдено, вместо этого будет предоставлен 
веб-сайт по умолчанию.    

Виртуальные хосты могут иметь корневой каталог, сопоставленный с различными местами на жестком диске. Например, one.
com сопоставлен с /var/www/website_one, а two.com сопоставлен с /var/www/website_two  

Количество различных веб-сайтов, которые можно разместить на веб-сервере, не ограничено.

### Статический и динамический контент

Статический контент, как следует из названия, это контент, который никогда не меняется. Обычными примерами этого 
являются изображения, javascript, CSS и т. д., но также может включать HTML, который никогда не меняется. Более того,
это файлы, которые напрямую обслуживаются веб-сервером без внесения в них изменений.  

С другой стороны, динамический контент — это контент, который может меняться в зависимости от разных запросов. 
Возьмем, к примеру, блог. На главной странице блога будут показаны последние записи. Если создается новая запись, 
главная страница затем обновляется последней записью, или вторым примером может быть страница поиска в блоге. В 
зависимости от того, какое слово вы ищете, будут отображаться разные результаты.   

Эти изменения в том, что вы в конечном итоге видите, производятся в том, что называется  Backend  с использованием 
языков программирования и сценариев. Это называется Backend, потому что все, что делается, делается за кулисами. Вы 
не можете просмотреть исходный HTML-код веб-сайтов и увидеть, что происходит в Backend, в то время как HTML является 
результатом обработки из Backend. Все, что вы видите в своем браузере, называется Frontend  .   

### Языки сценариев и бэкэнда

Нет особых ограничений на то, чего может достичь язык бэкенда, и это то, что делает веб-сайт интерактивным для 
пользователя. Вот некоторые примеры этих языков (в произвольном порядке :p): PHP, Python, Ruby, NodeJS, Perl и 
многие другие. Эти языки могут взаимодействовать с базами данных, вызывать внешние службы, обрабатывать данные от 
пользователя и многое другое. Очень простой пример PHP для этого: если вы запросите веб-сайт  http://example.com/index.php?name=adam   

Если бы index.php был построен следующим образом:

`<html><body>Hello <?php echo $_GET["name"]; ?></body></html>`

Клиенту будет выведено следующее:

`<html><body>Hello adam</body></html>`

Вы заметите, что клиент не видит никакого PHP-кода, поскольку он находится на Backend. Эта интерактивность открывает 
гораздо больше проблем безопасности для веб-приложений, которые не были созданы безопасно, как вы узнаете в 
дальнейших модулях.  

### Ответить на вопросы ниже
Что использует программное обеспечение веб-сервера для размещения нескольких сайтов?
```commandline
Virtual Hosts
```
Как называется тип контента, который может меняться?
```commandline
Dynamic
```
Видит ли клиент код бэкэнда? Да/Нет
```commandline
Nay
```

## Задание 4
Загадка

Нажмите кнопку «Просмотр сайта» справа. Используя все, что вы узнали из других модулей, перетащите плитки в 
правильном порядке того, как работает запрос к веб-сайту, чтобы показать флаг.  

Примечание : при размещении плитки в правильном положении она подсвечивается зеленым цветом. Когда плитка находится 
в неправильном месте, она подсвечивается красным цветом. Не обновляйте страницу, так как это снова сбросит все 
плитки на пустые!  

### Ответить на вопросы ниже
Флаг

```commandline
THM{YOU_GOT_THE_ORDER}
```



[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)