[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Defensive Security Intro](https://tryhackme.com/r/room/defensivesecurityintro) 

Всего 3 задания:
## Задание 1
В предыдущей комнате мы узнали о наступательной безопасности , которая направлена на выявление и использование 
уязвимостей системы для усиления мер безопасности. Это включает в себя использование ошибок программного обеспечения,
использование небезопасных настроек и использование преимуществ неиспользуемых политик контроля доступа, среди 
прочих стратегий. Красные команды и тестировщики на проникновение специализируются на этих наступательных методах.

В этой комнате мы рассмотрим ее аналог — оборонительную безопасность. Она касается двух основных задач:

Предотвращение вторжений
Обнаружение вторжений в случае их возникновения и надлежащее реагирование
Синие команды являются частью оборонительного ландшафта безопасности.


Некоторые из задач, связанных с оборонительной безопасностью, включают в себя:

- Осведомленность пользователей о кибербезопасности: обучение пользователей правилам кибербезопасности помогает 
защитить их системы от атак.
- Документирование и управление активами: нам необходимо знать, какими системами и устройствами мы должны управлять и 
  защищать должным образом.
- Обновление и исправление систем: обеспечение правильного обновления и исправления всех известных уязвимостей 
  (слабых мест) компьютеров, серверов и сетевых устройств.
- Настройка превентивных устройств безопасности: брандмауэр и системы предотвращения вторжений (IPS) являются 
  важнейшими компонентами превентивной безопасности. Брандмауэры контролируют, какой сетевой трафик может поступать 
  внутрь, а какой может покидать систему или сеть. IPS блокирует любой сетевой трафик, который соответствует текущим 
  правилам и сигнатурам атак.  
- Настройка устройств регистрации и мониторинга: Правильное ведение журнала и мониторинг сети имеют важное значение 
  для обнаружения вредоносных действий и вторжений. Если в нашей сети появляется новое несанкционированное 
  устройство, мы должны быть в состоянии обнаружить его.


В оборонительной безопасности есть еще много чего.  Помимо вышесказанного, мы также рассмотрим следующие смежные темы:
- Центр безопасности операций ( SOC )
- Разведка угроз
- Цифровая криминалистика и реагирование на инциденты ( DFIR )
- Анализ вредоносного ПО

### Ответьте на вопросы ниже
Какая команда фокусируется на оборонительной безопасности?
```commandline
Blue Team
```

## Задание 2
В этом задании мы рассмотрим две основные темы, связанные с оборонительной безопасностью:

- Центр безопасности операций ( SOC ), где мы занимаемся анализом угроз
- Цифровая криминалистика и реагирование на инциденты ( DFIR ), где мы также занимаемся анализом вредоносных программ
#### Центр безопасности операций ( SOC )
Центр операций по безопасности ( SOC ) — это команда профессионалов в области кибербезопасности, которая 
  отслеживает сеть и ее системы для обнаружения вредоносных событий кибербезопасности. Некоторые из основных 
областей интереса для SOC : 

- Уязвимости: Всякий раз, когда обнаруживается уязвимость (слабость) системы, необходимо исправить ее, установив 
соответствующее обновление или патч. Если исправление недоступно, следует принять необходимые меры, чтобы не 
  допустить его использования злоумышленником. Хотя устранение уязвимостей жизненно важно для SOC, оно не 
  обязательно возлагается на них.  
- Нарушения политики: Политика безопасности — это набор правил, необходимых для защиты сети и систем. Например, это 
  может быть нарушением политики, если пользователи загружают конфиденциальные данные компании в службу онлайн-хранилища.
- Несанкционированная активность: Рассмотрим случай, когда имя пользователя и пароль украдены, и злоумышленник 
  использует их для входа в сеть. SOC должен обнаружить и заблокировать такое событие как можно скорее, прежде чем 
  будет нанесен дальнейший ущерб. 
- Сетевые вторжения: Независимо от того, насколько хороша ваша безопасность, всегда есть шанс вторжения. Вторжение 
  может произойти, когда пользователь нажимает на вредоносную ссылку или когда злоумышленник использует публичный 
  сервер. В любом случае, когда происходит вторжение, мы должны обнаружить его как можно скорее, чтобы предотвратить 
  дальнейший ущерб.  
Операции по обеспечению безопасности охватывают различные задачи по обеспечению защиты; одной из таких задач 
  является сбор информации об угрозах. 

Аналитики в комнате SOC

Разведка угроз
В этом контексте разведка относится к информации, которую вы собираете о реальных и потенциальных врагах. Угроза — 
это любое действие, которое может нарушить или негативно повлиять на систему. Разведка угроз собирает информацию, 
чтобы помочь компании лучше подготовиться к потенциальным противникам. Целью будет достижение защиты, 
информированной об угрозах. У разных компаний разные противники. Некоторые противники могут стремиться украсть 
данные клиентов у мобильного оператора; однако другие противники заинтересованы в остановке производства на 
нефтеперерабатывающем заводе. Примерами противников являются киберармия национального государства, работающая по 
политическим причинам, и группа программ-вымогателей, действующая в финансовых целях. Основываясь на компании (цели),
мы можем ожидать противников.

Фильтрация данных с помощью Threat Intelligence

Разведке нужны данные. Данные должны быть собраны, обработаны и проанализированы. Данные собираются из локальных 
источников, таких как сетевые журналы, и из общедоступных источников, таких как форумы. Обработка данных преобразует 
их в формат, подходящий для анализа. Фаза анализа направлена на поиск дополнительной информации о злоумышленниках 
и их мотивах; более того, она направлена на создание списка рекомендаций и действенных шагов.

Изучение ваших противников позволяет вам узнать их тактику, методы и процедуры. В результате разведки угроз мы 
идентифицируем субъекта угрозы (противника) и прогнозируем его активность. Следовательно, мы можем смягчить их атаки 
и подготовить стратегию реагирования.  

Цифровая криминалистика и реагирование на инциденты ( DFIR )
В этом разделе речь идет о цифровой криминалистике и реагировании на инциденты ( DFIR ). Мы рассмотрим:

- Цифровая криминалистика
- Реагирование на инциденты
- Анализ вредоносного ПО
- Цифровая криминалистика
Криминалистика — это применение науки для расследования преступлений и установления фактов. С использованием и 
  распространением цифровых систем, таких как компьютеры и смартфоны, возникла новая отрасль криминалистики для 
  расследования связанных преступлений: компьютерная криминалистика, которая позже превратилась в  цифровую 
  криминалистику.

В оборонительной безопасности фокус цифровой криминалистики смещается на анализ доказательств атаки и ее 
исполнителей, а также других областей, таких как кража интеллектуальной собственности, кибершпионаж и владение 
несанкционированным контентом. Следовательно, цифровая криминалистика будет фокусироваться на различных областях, 
таких как:

- Файловая система: Анализ цифрового криминалистического образа (низкоуровневой копии) хранилища системы позволяет 
получить большой объем информации, такой как установленные программы, созданные файлы, частично перезаписанные файлы 
  и удаленные файлы. 
- Системная память: если злоумышленник запускает свою вредоносную программу в памяти, не сохраняя ее на диске, 
  создание криминалистического образа (низкоуровневой копии) системной памяти — лучший способ проанализировать ее 
  содержимое и узнать об атаке. 
- Системные журналы: Каждый клиентский и серверный компьютер поддерживает различные файлы журналов о том, что 
  происходит. Файлы журналов предоставляют массу информации о том, что произошло в системе. Даже если злоумышленник 
  попытается очистить свои следы, некоторые следы останутся. 
- Сетевые журналы: журналы сетевых пакетов, прошедших через сеть, помогут ответить на большее количество вопросов о 
  том, происходит ли атака и что она влечет за собой.

#### Реагирование на инциденты
Инцидент обычно относится к утечке данных или кибератаке; однако в некоторых случаях это может быть что-то менее 
критическое, например , неправильная конфигурация, попытка вторжения или нарушение политики. Примерами кибератаки 
являются действия злоумышленника, делающего нашу сеть или системы недоступными, порча (изменение) общедоступного 
веб-сайта и утечка данных (кража данных компании). Как бы вы отреагировали на кибератаку? Реагирование на инцидент 
определяет методологию, которой следует следовать для обработки такого случая. Цель состоит в том, чтобы уменьшить 
ущерб и восстановиться в кратчайшие сроки. В идеале вы должны разработать план, готовый к реагированию на инцидент. 

Четыре основных этапа процесса реагирования на инциденты:

- Подготовка: Для этого требуется обученная и готовая к инцидентам команда. В идеале, различные меры принимаются для 
предотвращения инцидентов в первую очередь.
- Обнаружение и анализ: у команды есть необходимые ресурсы для обнаружения любого инцидента; более того, крайне важно 
  провести более глубокий анализ любого обнаруженного инцидента, чтобы узнать его серьезность.
- Сдерживание, искоренение и восстановление: После обнаружения инцидента крайне важно не допустить его влияния на 
  другие системы, устранить его и восстановить затронутые системы. Например, когда мы замечаем, что система заражена 
  компьютерным вирусом, мы хотели бы остановить (сдержать) распространение вируса на другие системы, очистить 
  (искоренить) вирус и обеспечить надлежащее восстановление системы.  
- Действия после инцидента: после успешного восстановления составляется отчет, а извлеченные уроки распространяются 
  для предотвращения подобных инцидентов в будущем.


Схема реагирования на инциденты

Анализ вредоносного ПО
Malware означает вредоносное программное обеспечение. Программное обеспечение относится к программам, документам и 
файлам, которые вы можете сохранить на диске или отправить по сети. Вредоносное программное обеспечение включает в 
себя множество типов, таких как:

- Вирус — это фрагмент кода (часть программы), который прикрепляется к программе. Он предназначен для распространения 
с одного компьютера на другой и работает путем изменения, перезаписи и удаления файлов после заражения компьютера. 
  Результат варьируется от замедления работы компьютера до невозможности его использования. 
- Троянский конь — это программа, которая показывает одну желаемую функцию, но скрывает вредоносную функцию под ней. 
  Например, жертва может загрузить видеоплеер с теневого веб-сайта, который дает злоумышленнику полный контроль над 
  ее системой. 
- Ransomware — вредоносная программа, которая шифрует файлы пользователя. Шифрование делает файлы нечитаемыми без 
  знания пароля шифрования. Злоумышленник предлагает пользователю пароль шифрования, если пользователь готов 
  заплатить «выкуп». 
Анализ вредоносного ПО

Анализ вредоносного ПО направлен на изучение таких вредоносных программ с использованием различных средств:

Статический анализ работает путем проверки вредоносной программы без ее запуска. Обычно это требует основательного 
знания языка ассемблера (набора инструкций процессора, т. е. основных инструкций компьютера). 
Динамический анализ работает путем запуска вредоносного ПО в контролируемой среде и мониторинга его активности. Он 
позволяет вам наблюдать, как вредоносное ПО ведет себя во время работы. 
### Ответьте на вопросы ниже
Как бы вы назвали команду профессионалов в области кибербезопасности, которая отслеживает сеть и ее системы на 
предмет вредоносных событий?
```commandline
Security Operations Center
```

Что означает аббревиатура DFIR?
```commandline
Digital Forensics and Incident Response
```

Какой вид вредоносного ПО требует от пользователя заплатить деньги за восстановление доступа к своим файлам?
```commandline
ransomware
```

## Задание 3
Сценарий

Давайте представим, что вы  аналитик Центра операций безопасности  (SOC), отвечающий за защиту банка. SOC этого 
банка использует  инструмент Security Information and Event Management  ( SIEM ), который собирает информацию и 
события, связанные с безопасностью, из различных источников и представляет их на одной панели. Если SIEM обнаружит 
что-то подозрительное, будет сгенерировано оповещение.

Монитор, показывающий несколько оповещений

Однако не все оповещения вредоносны. Аналитик должен использовать свои знания в области кибербезопасности, чтобы 
выяснить, какие из них вредоносны.

Например, вы можете столкнуться с предупреждением, когда пользователь потерпел неудачу в нескольких попытках входа. 
Хотя это и подозрительно, такие вещи случаются, особенно если пользователь забыл свой пароль и продолжает пытаться 
войти в систему.

Кроме того, могут быть оповещения, связанные с подключениями с неизвестных IP-адресов. IP-адрес — это как домашний 
адрес для вашего компьютера в Интернете — он сообщает другим компьютерам, куда отправлять запрашиваемую вами 
информацию. Если эти адреса неизвестны, это может означать, что кто-то новый пытается подключиться или кто-то 
пытается получить несанкционированный доступ.

Моделирование SIEM

Мы подготовили упрощенную интерактивную симуляцию системы SIEM, чтобы предоставить вам практический опыт, 
аналогичный тому, с которым сталкиваются аналитики по кибербезопасности.

Чтобы начать эту симуляцию, нажмите кнопку «Просмотр сайта» в правом верхнем углу этой задачи. Это действие откроет 
«статичный сайт» в правой части экрана. Следуйте пошаговым инструкциям, предоставленным в симуляции, чтобы 
перемещаться по событиям и найти «флаг». Флаг — это ряд символов в таком формате: «THM{RANDOM_WORDS}». Используйте 
этот флаг, чтобы отвечать на вопросы из комнат здесь, в TryHackMe, как показано ниже.

Что дальше?

В этой комнате мы обсудили различные подполя (SOC, Threat Intelligence, Malware Analysis и DFIR) и на собственном 
опыте узнали, как справляться с оповещениями в смоделированной среде SIEM. Хотя мы многое рассмотрели, глубина и 
сложность этой области означают, что есть еще много чего узнать и изучить. Уроки, полученные здесь, послужат вам 
основой по мере развития киберугроз, требуя постоянного обучения, бдительности и адаптации.

Продолжайте обучение, просмотрев следующую комнату в этой серии «Навыки поиска». В этой комнате вы научитесь ценным 
приемам поиска информации в Интернете, которые помогут вам в ваших исследованиях и обучении.

Если вы хотите перейти дальше и узнать больше о темах, обсуждаемых в этой комнате, рекомендуем следующие комнаты:
- Введение в SIEM — Введение в управление информацией и событиями безопасности
- Операции по обеспечению безопасности — узнайте больше о Центре операций по обеспечению безопасности ( SOC ): его 
обязанностях, услугах и источниках данных. 
- DFIR : Введение - Вводная комната длямодуля DFIR
Введение в анализ вредоносного ПО. Что делать, если вы столкнулись с предполагаемым вредоносным ПО

### Ответьте на вопросы ниже
Какой флаг вы получили, следуя инструкциям?
```commandline
THM{THREAT-BLOCKED}
```


[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)