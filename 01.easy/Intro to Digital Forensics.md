[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Intro to Digital Forensics](https://tryhackme.com/r/room/introdigitalforensics) 

Всего 3 задания:
## Задание 1
Криминалистика — это применение науки для расследования преступлений и установления фактов. С использованием и 
распространением цифровых систем, таких как компьютеры и смартфоны, возникла новая отрасль криминалистики для 
расследования связанных с ними преступлений: компьютерная криминалистика, которая позже превратилась в цифровую 
криминалистику.   

Подумайте о следующем сценарии. Сотрудники правоохранительных органов прибывают на место преступления; однако, часть 
этого места преступления включает цифровые устройства и носители. Цифровые устройства включают настольные компьютеры,
ноутбуки, цифровые камеры, музыкальные плееры и смартфоны, и это лишь некоторые из них. Цифровые носители включают 
CD, DVD, USB-накопители и внешние накопители. Возникает несколько вопросов:   

- Как полиция должна собирать цифровые доказательства, такие как смартфоны и ноутбуки? Каковы процедуры, которые 
необходимо соблюдать, если компьютер и смартфон работают?
- Как перенести цифровые доказательства? Существуют ли определенные рекомендации, которым нужно следовать, например, 
  при перемещении компьютеров?
- Как анализировать собранные цифровые доказательства? Объем памяти персональных устройств составляет от десятков 
  гигабайт до нескольких терабайт; как это можно проанализировать?


Предполагая, что этот сотрудник подозревается на рисунке выше, мы можем быстро увидеть цифровые устройства, которые 
могут представлять интерес для расследования. Мы замечаем планшет, смартфон, цифровую камеру и флэш-память USB в 
дополнение к настольному компьютеру. Любое из этих устройств может содержать кладезь информации, которая может 
помочь в расследовании. Обработка их в качестве доказательств потребует цифровой криминалистики.    

Более формально цифровая криминалистика — это применение компьютерной науки для исследования цифровых доказательств 
в юридических целях. Цифровая криминалистика используется в двух типах расследований: 

- Расследования в государственном секторе относятся к расследованиям, проводимым государственными и 
правоохранительными органами. Они могут быть частью уголовного или гражданского расследования.
- Расследования частного сектора относятся к расследованиям, проводимым корпоративными органами путем назначения 
  частного детектива, будь то штатного или аутсорсингового. Они инициируются нарушениями корпоративной политики.
- Независимо от того, расследуете ли вы преступление или нарушение корпоративной политики, часть доказательств 
  связана с цифровыми устройствами и цифровыми носителями. Именно здесь в игру вступает цифровая криминалистика, 
  которая пытается установить, что произошло. Без обученных следователей по цифровой криминалистике невозможно будет 
  должным образом обработать любые цифровые доказательства.  



### Ответить на вопросы ниже
Рассмотрим стол на фото выше. Помимо смартфона, камеры и SD-карт, что может быть интересно для цифровой криминалистики?

```commandline
laptop
```

## Задание 2
Как следователь по цифровой криминалистике, вы прибываете на место, похожее на то, что показано на изображении выше. 
Что вы должны делать как следователь по цифровой криминалистике? После получения надлежащего юридического разрешения 
базовый план выглядит следующим образом:

- Соберите доказательства: соберите цифровые устройства, такие как ноутбуки, устройства хранения данных и цифровые 
камеры. (Обратите внимание, что ноутбуки и компьютеры требуют особого обращения, если они включены; однако это 
  выходит за рамки этой комнаты.) 
- Установите цепочку хранения: заполните соответствующую форму соответствующим образом ( Образец формы ). Цель 
  состоит в том, чтобы гарантировать, что только уполномоченные следователи имели доступ к доказательствам, и никто 
  не мог их подделать. 
- Поместите улики в безопасный контейнер: вы хотите быть уверены, что улики не будут повреждены. В случае смартфонов 
  вы хотите быть уверены, что они не смогут получить доступ к сети, чтобы их нельзя было стереть удаленно.
- Перенесите улики в вашу лабораторию цифровой криминалистики.


В лаборатории процесс происходит следующим образом:
- Извлеките цифровые доказательства из защищенного контейнера.
- Создайте криминалистическую копию доказательств: для криминалистической копии требуется современное программное 
  обеспечение, чтобы избежать изменения исходных данных.
- Верните цифровые доказательства в безопасный контейнер: Вы будете работать с копией. Если вы повредите копию, вы 
  всегда сможете создать новую.
- Начните обработку копии на своей рабочей станции для криминалистики.
Вышеуказанные шаги были адаптированы из Руководства по компьютерной криминалистике и расследованиям, 6-е издание.

В более общем плане, по словам бывшего директора Лаборатории компьютерной криминалистики Министерства обороны США 
Кена Затыко, цифровая криминалистика включает в себя: 
- Надлежащие полномочия по обыску: следователи не могут приступить к обыску без соответствующих юридических полномочий.
- Цепочка хранения: Это необходимо для отслеживания того, у кого в любой момент времени находились доказательства.
- Проверка с помощью математики: используя особый вид математической функции, называемый хеш-функцией, мы можем 
  подтвердить, что файл не был изменен.
- Использование проверенных инструментов: Инструменты, используемые в цифровой криминалистике, должны быть проверены, 
  чтобы гарантировать их правильную работу. Например, если вы создаете образ диска, вы хотите убедиться, что криминалистический образ идентичен данным на диске.
- Повторяемость: результаты цифровой криминалистики можно воспроизвести при наличии соответствующих навыков и 
  инструментов.
- Отчетность: Цифровое криминалистическое расследование завершается отчетом, в котором приводятся обнаруженные 
  доказательства, имеющие отношение к делу.
### Ответить на вопросы ниже
Важно отслеживать, кто этим занимается в любой момент времени, чтобы гарантировать, что доказательства являются 
допустимыми в суде. Как называется документация, которая поможет это установить?

```commandline
Chain of Custody
```

## Задание 3
Все, что мы делаем на наших цифровых устройствах, от смартфонов до компьютеров, оставляет следы. Давайте посмотрим, 
как мы можем использовать это в последующем расследовании.  

Наш кот Гадо был похищен. Похититель прислал нам документ со своими требованиями в формате MS Word Document. Для 
вашего удобства мы конвертировали документ в формат PDF и извлекли изображение из файла MS Word.  

Вы можете загрузить прикрепленный файл на свой локальный компьютер для проверки; однако для вашего удобства мы 
добавили файлы в AttackBox. Чтобы продолжить, откройте терминал на AttackBox, затем перейдите в каталог, 
/root/Rooms/introdigitalforensics как показано ниже. В следующем выводе терминала мы перешли в каталог, содержащий 
файлы дела.   

Терминал
```commandline
root# cd /root/Rooms
root# cd introdigitalforensics
root# ls
letter-image.jpg  ransom-letter.doc  ransom-letter.pdf  ransom-lettter-2.zip
```

Метаданные документа
Когда вы создаете текстовый файл, TXTнекоторые метаданные сохраняются операционной системой, например, дата создания 
файла и дата последнего изменения. Однако большая часть информации сохраняется в метаданных файла, когда вы 
используете более продвинутый редактор, например, MS Word. Существуют различные способы чтения метаданных файла; вы 
можете открыть их в официальном просмотрщике/редакторе или использовать подходящий инструмент судебной экспертизы. 
Обратите внимание, что экспорт файла в другие форматы, например PDF, сохранит большую часть метаданных исходного 
документа, в зависимости от используемого средства записи PDF.     

Давайте посмотрим, что мы можем узнать из файла PDF. Мы можем попробовать прочитать метаданные с помощью программы 
pdfinfo. Pdfinfo отображает различные метаданные, связанные с файлом PDF, такие как заголовок, тема, автор, 
создатель и дата создания. (AttackBox уже установлен pdfinfo; однако, если вы используете Kali Linux и не установили 
pdfinfo, вы можете установить его с помощью sudo apt install poppler-utils.) Рассмотрим следующий пример 
использования pdfinfo DOCUMENT.pdf.    

Терминал
```commandline
user@TryHackMe$ pdfinfo DOCUMENT.pdf 
Creator:        Microsoft® Word for Office 365
Producer:       Microsoft® Word for Office 365
CreationDate:   Wed Oct 10 21:47:53 2018 EEST
ModDate:        Wed Oct 10 21:47:53 2018 EEST
Tagged:         yes
UserProperties: no
Suspects:       no
Form:           none
JavaScript:     no
Pages:          20
Encrypted:      no
Page size:      595.32 x 841.92 pts (A4)
Page rot:       0
File size:      560362 bytes
Optimized:      no
PDF version:    1.7
```

Метаданные PDF-файла ясно показывают, что он был создан с помощью MS Word для Office 365 10 октября 2018 года.

### Ответить на вопросы ниже
Используя pdfinfo, найдите автора прикрепленного PDF-файла, ransom-letter.pdf.


```commandline
Ann Gree Shepherd
```
Данные EXIF фото
EXIF означает Exchangeable Image File Format; это стандарт сохранения метаданных в файлах изображений. Всякий раз, 
когда вы делаете фотографию с помощью смартфона или цифровой камеры, в изображение встраивается множество информации.
Ниже приведены примеры метаданных, которые можно найти в исходных цифровых изображениях:   

Модель камеры / Модель смартфона
Дата и время съемки изображения
Настройки фотосъемки, такие как фокусное расстояние, диафрагма, выдержка и настройки ISO
Поскольку смартфоны оснащены датчиком GPS, то весьма вероятно, что на изображении будут обнаружены координаты GPS. 
Координаты GPS, т. е. широта и долгота, как правило, указывают место, где была сделана фотография.  

Существует множество онлайн и офлайн инструментов для чтения EXIF-данных из изображений. Одним из инструментов 
командной строки является exiftool. ExifTool используется для чтения и записи метаданных в различных типах файлов, 
таких как изображения JPEG. (AttackBox уже установлен exiftool; однако, если вы используете Kali Linux и не 
установили exiftoolего, вы можете установить его с помощью sudo apt install libimage-exiftool-perl.) В следующем 
окне терминала мы выполнили exiftool IMAGE.jpgчтение всех EXIF-данных, встроенных в это изображение.    

```commandline
user@TryHackMe$ exiftool IMAGE.jpg
[...]
GPS Position : 51 deg 31' 4.00" N, 0 deg 5' 48.30" W
[...]
```
Если вы возьмете указанные выше координаты и выполните поиск по одной из онлайн-карт, вы узнаете больше об этом 
месте. Поиск в Microsoft Bing Maps или Google Maps по запросу 51 deg 30' 51.90" N, 0 deg 5' 38.73" Wпоказывает улицу,
где была сделана фотография. Обратите внимание, что для работы поиска нам пришлось заменить degна °и удалить лишнее 
пустое пространство. Другими словами, мы ввели 51°30'51.9"N 0°05'38.7"Wв строку поиска карты.   

Используя exiftoolили любой подобный инструмент, попробуйте найти, где похитители взяли изображение, которое они 
прикрепили к своему документу. Как называется улица? 

```commandline
Milk Street
```
Как называется модель камеры, использованной для съемки этой фотографии?

```commandline
Canon EOS R6
```



[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)