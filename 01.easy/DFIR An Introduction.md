[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [DFIR: An Introduction](https://tryhackme.com/r/room/introductoryroomdfirmodule) 

Всего 6 заданий:
## Задание 1
Цели обучения
Нарушения безопасности и инциденты происходят, несмотря на то, что службы безопасности делают все возможное, чтобы 
избежать их по всему миру. Благоразумный подход в таком сценарии — подготовиться к моменту, когда произойдет 
инцидент, чтобы не оказаться застигнутыми врасплох. Таким образом, цифровая криминалистика и реагирование на 
инциденты ( DFIR ) стали неотъемлемой темой в Defensive Security. В этой комнате мы рассмотрим некоторые основные 
концепции DFIR и представим комнаты, которые расширяют наши знания о DFIR . В комнате будут рассмотрены следующие темы:    
- Введение DFIR
- Некоторые основные концепции, используемые в области DFIR
- Процессы реагирования на инциденты, используемые в отрасли
- Некоторые из инструментов, используемых для DFIR
### Ответьте на вопросы ниже
Ознакомьтесь с целями обучения.
```commandline
Ответ не нужен
```

## Задание 2
#### Что такое DFIR ?
Как уже упоминалось, DFIR означает Digital Forensics and Incident Response (цифровая криминалистика и реагирование 
на инциденты). Эта область охватывает сбор криминалистических артефактов с цифровых устройств, таких как компьютеры, 
медиаустройства и смартфоны, для расследования инцидента. Эта область помогает специалистам по безопасности 
идентифицировать следы, оставленные злоумышленником при возникновении инцидента безопасности, использовать их для 
определения степени компрометации среды и восстанавливать среду до состояния, в котором она была до инцидента.

#### Необходимость в DFIR
DFIR оказывает профессионалам в области безопасности помощь различными способами, некоторые из которых перечислены ниже:
- Поиск доказательств активности злоумышленников в сети и отсеивание ложных тревог от реальных инцидентов.
- Эффективное устранение злоумышленника, чтобы его присутствия в сети больше не оставалось.
- Определение масштаба и временных рамок нарушения. Это помогает в общении с соответствующими заинтересованными 
  сторонами.
- Поиск лазеек, которые привели к взлому. Что нужно изменить, чтобы избежать взлома в будущем?
- Понимание поведения злоумышленника для превентивного блокирования дальнейших попыток вторжения с его стороны.
- Распространение информации о злоумышленнике среди сообщества.
#### Кто выполняет DFIR ?
Как следует из названия, DFIR требует экспертных знаний как в области цифровой криминалистики, так и реагирования на 
инциденты. Разделяя эти две области таким образом, для того, чтобы стать профессионалом DFIR, необходимы следующие 
навыки:  
- Цифровая криминалистика: эти специалисты являются экспертами в выявлении криминалистических артефактов или 
  доказательств человеческой деятельности в цифровых устройствах.  
- Реагирование на инциденты: специалисты по реагированию на инциденты являются экспертами в области кибербезопасности 
  и используют криминалистическую информацию для выявления интересующей активности с точки зрения безопасности. 
- Профессионалы DFIR знают о цифровой криминалистике и кибербезопасности и объединяют эти области для достижения 
  своих целей. Области цифровой криминалистики и реагирования на инциденты часто объединяются, поскольку они сильно 
  взаимозависимы. Реагирование на инциденты использует знания, полученные в ходе цифровой криминалистики. Аналогично,
  цифровая криминалистика берет свои цели и область применения из процесса реагирования на инциденты, а процесс IR 
  определяет объем судебного расследования.

### Ответьте на вопросы ниже
Что означает аббревиатура DFIR?
```commandline
Digital Forensics and Incident Response
```
DFIR требует экспертных знаний в двух областях. Одна из областей — цифровая криминалистика. Какая другая область?
```commandline
Incident Response
```

## Задание 3
Теперь, когда мы познакомились с DFIR и узнали, зачем он нужен, давайте изучим некоторые основные концепции, 
связанные с DFIR в этом задании. 

#### Артефакты:
Артефакты — это доказательства, указывающие на действие, выполненное в системе. При выполнении DFIR артефакты 
собираются для поддержки гипотезы или утверждения о действиях злоумышленника. Например, если мы хотим заявить, что 
злоумышленник использовал ключи реестра Windows для поддержания персистентности в системе, мы можем использовать 
указанный ключ реестра для поддержки нашего утверждения. В этом случае указанный ключ реестра будет считаться 
артефактом. Таким образом, сбор артефактов является неотъемлемой частью процесса DFIR.  Артефакты могут быть собраны 
из файловой системы, памяти или сетевой активности конечной точки или сервера.      

В большинстве случаев корпоративные среды в основном состоят из операционных систем Windows и Linux. Чтобы узнать 
больше о криминалистических артефактах в этих операционных системах, вы можете перейти в Windows Forensics 1 , 
Windows Forensics 2 или в комнату Linux Forensics . Системы Windows в основном используются для конечных точек и 
серверных вариантов использования, таких как контроллеры доменов Active Directory или почтовые серверы MS Exchange. 
Предприятия в основном используют системы Linux в качестве серверов, на которых размещаются некоторые службы, 
например, веб-серверы или серверы баз данных.      

#### Сохранение доказательств:
При выполнении DFIR мы должны поддерживать целостность собираемых нами доказательств. По этой причине в отрасли 
установлены определенные передовые практики. Мы должны отметить, что любой криминалистический анализ загрязняет 
доказательства. Поэтому доказательства сначала собираются и защищаются от записи. Затем для анализа используется 
копия защищенного от записи доказательства. Этот процесс гарантирует, что наши исходные доказательства не будут 
загрязнены и останутся в безопасности во время анализа. Если наша расследуемая копия будет повреждена, мы всегда 
можем вернуться и сделать новую копию с сохраненных нами доказательств.      

#### Цепочка поставок:
Другим важным аспектом поддержания целостности доказательств является цепочка хранения. Когда доказательства собраны,
необходимо убедиться, что они хранятся в надежном месте. Ни одно лицо, не связанное со следствием, не должно владеть 
доказательствами, иначе это загрязнит цепочку хранения доказательств. Загрязненная цепочка хранения поднимает 
вопросы о целостности данных и ослабляет выстраиваемое дело, добавляя неизвестные переменные, которые невозможно 
решить. Например, предположим, что образ жесткого диска, передаваемый от человека, который сделал образ, человеку, 
который будет выполнять анализ, попадает в руки человека, который не имеет квалификации для работы с такими 
доказательствами. В этом случае мы не можем быть уверены, что он правильно обошелся с доказательствами и, 
следовательно, не загрязнил доказательства своей деятельностью.         

#### Порядок волатильности:
Цифровые доказательства часто изменчивы, т. е. они могут быть утеряны навсегда, если их не захватить вовремя. 
Например, данные в памяти компьютерной системы (ОЗУ) будут утеряны при выключении компьютера, поскольку ОЗУ хранит 
данные только до тех пор, пока он остается включенным. Некоторые источники более изменчивы по сравнению с другими. 
Например, жесткий диск является постоянным хранилищем и сохраняет данные даже при отключении питания. Поэтому 
жесткий диск менее изменчив, чем ОЗУ. При выполнении DFIR важно понимать порядок изменчивости различных источников 
доказательств, чтобы захватить и сохранить их соответствующим образом. В приведенном выше примере нам нужно будет 
сохранить ОЗУ перед сохранением жесткого диска, поскольку мы можем потерять данные в ОЗУ, если не приоритезируем их. 


#### Создание временной шкалы:
После того, как мы собрали артефакты и сохранили их целостность, нам нужно представить их в понятной форме, чтобы 
полностью использовать содержащуюся в них информацию. Для эффективного и точного анализа необходимо создать 
временную шкалу событий. Эта временная шкала событий располагает все действия в хронологическом порядке. Эта 
деятельность называется созданием временной шкалы. Создание временной шкалы обеспечивает перспективу расследования и 
помогает сопоставлять информацию из различных источников, чтобы создать историю о том, как все произошло.     

Теперь давайте посмотрим на прикрепленный статический сайт, чтобы попрактиковаться в создании временной шкалы и 
ответить на первый вопрос. Для этого нажмите кнопку View Site в правом верхнем углу этого задания.   

Изображение, показывающее кнопку «Просмотр сайта» в правом верхнем углу задачи

### Ответьте на вопросы ниже
Какое хранилище более энергозависимо: оперативная память и жесткий диск?
```commandline
RAM
```
Выполните упражнение по созданию временной шкалы на приложенном статическом сайте. Какой флаг вы получите после завершения?
```commandline
THM{DFIR_REPORT_DONE}
```

## Задание 4
Индустрия безопасности создала различные захватывающие инструменты, помогающие в процессе DFIR. Эти инструменты 
помогают экономить драгоценное время и расширять возможности специалистов по безопасности. Давайте узнаем о 
некоторых из этих инструментов здесь. Вы можете проверить комнаты для этих инструментов на TryHackMe, чтобы узнать о 
них больше.   

#### Инструменты Эрика Циммермана:
Эрик Циммерман — исследователь безопасности, написавший несколько инструментов для проведения криминалистического 
анализа на платформе Windows. Эти инструменты помогают проводить анализ реестра, файловой системы, временной шкалы и 
многие другие анализы. Чтобы узнать больше об этих инструментах, вы можете посетить комнаты Windows Forensics 1 и 
Windows Forensics 2, где эти инструменты обсуждаются в отношении различных артефактов, обнаруженных в операционной 
системе Windows.


#### КАПЭ:
Kroll Artifact Parser and Extractor (KAPE) — еще один полезный инструмент Эрика Циммермана. Этот инструмент 
автоматизирует сбор и анализ криминалистических артефактов и может помочь создать временную шкалу событий. Вы можете 
посетить комнату KAPE, чтобы узнать больше о KAPE.

#### Вскрытие:
Autopsy — это платформа судебной экспертизы с открытым исходным кодом, которая помогает анализировать данные с 
цифровых носителей, таких как мобильные устройства, жесткие диски и съемные диски. Различные плагины для аутопсии 
ускоряют процесс судебной экспертизы и извлекают и представляют ценную информацию из необработанных источников 
данных. Комната аутопсии TryHackMe может помочь, если вы хотите узнать об этом больше.

#### Волатильность:
Volatility — это инструмент, который помогает выполнять анализ памяти для захватов памяти как из операционных систем 
Windows, так и из Linux. Это мощный инструмент, который может помочь извлечь ценную информацию из памяти исследуемой 
машины. Вы можете узнать больше о Volatility в комнате Volatility.

#### Красная линия:
Redline — это инструмент реагирования на инциденты, разработанный и свободно распространяемый FireEye. Этот 
инструмент может собирать криминалистические данные из системы и помогать с собранной криминалистической информацией.
Вы можете узнать больше о Redline в Redline room.

#### Велоцираптор:
Velociraptor — это передовая платформа мониторинга конечных точек, криминалистики и реагирования. Она имеет открытый 
исходный код, но очень мощная. TryHackMe создал комнату Velociraptor, чтобы вы могли узнать о ней больше.

Хотя все эти инструменты полезны при выполнении DFIR , важно понимать процесс, которому следуют для достижения наших 
целей. Следующая задача будет сосредоточена на процессе реагирования на инциденты и на том, как мы можем 
использовать цифровую криминалистику в этом процессе.  

### Ответьте на вопросы ниже
Ознакомьтесь с комнатами, связанными с различными инструментами, упомянутыми здесь.
```commandline
Ответ не нужен
```

## Задание 5
В операциях по обеспечению безопасности цифровая криминалистика в основном используется для выполнения реагирования 
на инциденты. Мы изучим процесс реагирования на инциденты и увидим, как цифровая криминалистика помогает в процессе 
IR в этой задаче.  

Различные организации опубликовали стандартизированные методы для выполнения реагирования на инциденты. NIST 
определил процесс в своем руководстве по обработке инцидентов SP-800-61 , который содержит следующие шаги: 
- Подготовка
- Обнаружение и анализ
- Сдерживание, ликвидация и восстановление
- Действия после инцидента


Аналогичным образом, SANS опубликовала  руководство по работе с инцидентами . Руководство определяет шаги следующим 
образом: 
- Подготовка
- Идентификация
- Сдерживание
- Искоренение
- Восстановление
- Извлеченные уроки


Шаги, определенные SANS, часто суммируются в виде аббревиатуры PICERL, что облегчает их запоминание. Мы видим, что 
  шаги, указанные SANS и NIST , идентичны. В то время как NIST объединяет Containment, Eradication и Recovery, SANS 
  разделяет их на разные шаги. Действия после инцидента и Lessons learned могут быть сопоставимы, в то время как 
  Identification и Detection and Analysis имеют одинаковые последствия.   

Теперь, когда мы понимаем, что эти два процесса похожи, давайте кратко узнаем, что означают различные шаги. Мы 
объясним шаги PICERL, поскольку их легче запомнить по аббревиатуре, но, как описано выше, они идентичны шагам, 
определенным NIST.  



- Подготовка :  Перед тем, как произойдет инцидент, необходимо подготовиться, чтобы все были готовы в случае 
инцидента. Подготовка включает в себя наличие необходимых людей, процессов и технологий для предотвращения и 
  реагирования на инциденты. 
- Идентификация :  Инцидент идентифицируется с помощью некоторых индикаторов на этапе идентификации. Затем эти 
  индикаторы анализируются на предмет ложных срабатываний, документируются и сообщаются соответствующим 
  заинтересованным сторонам. 
- Сдерживание :  На этом этапе инцидент сдерживается, и предпринимаются усилия по ограничению его последствий. Могут 
  быть краткосрочные и долгосрочные исправления для сдерживания угрозы на основе судебно-медицинского анализа 
  инцидента, который будет частью этого этапа. 
- Искоренение :  Затем угроза искореняется из сети. Необходимо обеспечить проведение надлежащего судебно-медицинского 
  анализа и эффективное сдерживание угрозы перед ее искоренением. Например, если точка входа субъекта угрозы в сеть 
  не заблокирована, угроза не будет эффективно искоренена, и субъект может снова закрепиться. 
- Восстановление :  После устранения угрозы в сети нарушенные службы восстанавливаются в том же состоянии, в котором 
  они были до инцидента.
- Извлеченные уроки :  Наконец, проводится анализ инцидента, инцидент документируется и на основе результатов 
  инцидента принимаются меры, чтобы убедиться, что команда лучше подготовлена к следующему инциденту.


### Ответьте на вопросы ниже
На каком этапе процесса IR восстановлена работа нарушенных сервисов в том виде, в котором они были до инцидента?

```commandline
Recovery
```
На каком этапе процесса IR угроза удаляется из сети после проведения криминалистического анализа?
```commandline
Eradication
```
Каков эквивалент NIST шага под названием «Извлеченные уроки» в процессе SANS?
```commandline
Post-incident Activity
```
## Задание 6

```commandline
Ответ не нужен
```
[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)