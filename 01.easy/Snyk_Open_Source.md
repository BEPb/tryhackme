[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Snyk Open Source](https://tryhackme.com/r/room/snykopensource) 

Всего 9 заданий:
## Задание 1
Добро пожаловать в эту комнату, где вы будете сопровождать Джессику, энтузиаста младшего инженера по безопасности приложений, в ее решении дилемм безопасности с открытым исходным кодом с помощью  Snyk . Объедините усилия с ней и повысьте свою квалификацию в обеспечении безопасности современных программных проектов!

Предпосылки обучения

Прежде чем приступить к изучению этой темы, мы рекомендуем вам пройти  курс DevSecOps  .

Цели обучения

- Распознавать риски безопасности открытого исходного кода и понимать их влияние на современные программные проекты
- Эффективно используйте Snyk для обнаружения уязвимостей
- Оценить и классифицировать выявленные уязвимости
- Применить соответствующие меры по устранению последствий
### Ответьте на вопросы ниже
Давайте начнем со знакомства с Джессикой!
```commandline
Ответ не нужен
```

## Задание 2
Джессика только что окончила колледж по специальности «Компьютерные науки» и получила работу своей мечты в качестве 
младшего инженера по безопасности в Patch Corp. Несмотря на страсть к кибербезопасности, она признает, что ей еще 
многому предстоит научиться. К счастью, у нее отличные навыки решения проблем, живой интерес к технологиям и 
решимость профессионально расти.   

Ее CISO поручил ей улучшить состояние безопасности экосистемы разработки ПО Patch Corp. Проведя анализ пробелов, она 
обнаружила, что у некоторых команд не было сканеров зависимостей и пакетов, что сделало организацию уязвимой для 
потенциальных уязвимостей в сторонних библиотеках и компонентах.

Чтобы решить эту проблему, Джессика внедрит  Snyk Open Source, инструмент безопасности, недавно приобретенный 
компанией. Команда по безопасности решила разработать поэтапный план внедрения, и Джессика намеревалась постепенно 
внедрять инструмент во все команды разработчиков, обеспечивая максимальное взаимодействие и использование. Она 
внедрит инструмент в один проект, что позволит команде ознакомиться с ним и сообщить о любых проблемах, возникших во 
время внедрения. Как только этот этап окажется успешным, Джессика расширит использование инструмента на 
дополнительные проекты.

### Ответьте на вопросы ниже
Готовы? Поехали!
```commandline
Ответ не нужен
```

## Задание 3
Компоненты программного обеспечения с открытым исходным кодом произвели революцию в мире разработки программного обеспечения, позволяя разработчикам создавать сложные системы быстрее, чем когда-либо прежде. Джессика знает, что интеграция стороннего кода в приложения создает уникальные проблемы безопасности. Злоумышленники все чаще нацеливаются на экосистемы с открытым исходным кодом, эксплуатируя известные уязвимости для одновременной компрометации многочисленных нижестоящих приложений.

Чтобы помочь Джессике понять серьезность рисков безопасности программного обеспечения с открытым исходным кодом, 
давайте рассмотрим несколько факторов, способствующих их сложности и распространенности: 

- Большая поверхность атаки:  Современные приложения часто полагаются на сотни, если не тысячи, библиотек и 
фреймворков с открытым исходным кодом. Управление безопасностью стольких разрозненных компонентов требует значительных усилий и опыта. Каждая библиотека может представлять свои уязвимости, которые потенциально могут повлиять на каждое приложение, использующее ее. Даже, казалось бы, незначительные проблемы могут представлять существенные риски, если их усилить в обширных взаимосвязанных сетях.
- Быстрые циклы выпуска:  быстрый темп инноваций в сообществах с открытым исходным кодом часто приводит к обновлениям,
  исправлениям ошибок и улучшениям функций. Хотя отслеживание этих изменений дает преимущества, отслеживание их может быстро стать непосильным. Отставание в исправлении даже одной широко используемой библиотеки подвергает приложения ненужной опасности.
- Транзитивные зависимости:  Многие библиотеки с открытым исходным кодом зависят от других библиотек, образуя сложные 
  взаимозависимости. Если их не контролировать, транзитивные зависимости могут таить в себе неизвестные уязвимости, которые незаметно распространяются по всей системе. Выявление и устранение этих скрытых опасностей требует тщательного анализа и пристального внимания к деталям. 
- Ограниченная видимость:  отслеживание использования открытого исходного кода и связанных с ним рисков становится 
  более управляемым при наличии надлежащего инструментария и видимости. Команды разработчиков могут упустить из виду важные компоненты или не обнаружить устаревшие версии, пронизанные уязвимостями. Поддержание всестороннего понимания следа открытого исходного кода приложения позволяет своевременно выявлять и решать проблемы безопасности. 



Новая функция в кодовой базе

Команда разработчиков Patch Corp разрабатывает новый набор функций для своего основного приложения Patch Chat App, 
используя JavaScript в качестве основного языка. Учитывая недавние опасения, связанные с атаками на цепочки поставок 
и потенциальными уязвимостями программного обеспечения, Джессике было поручено тщательно изучить файл package.json 
проекта.

Она понимает важность регулярной оценки сторонних компонентов для обеспечения своевременного исправления и снижения 
неотъемлемых рисков. Ее проверка направлена на выявление устаревших или небезопасных пакетов, что позволяет 
команде быстро обновлять их или заменять более безопасными альтернативами.  

Она оценивает следующий файл package.json, связанный с проектом "patch-chat-app", который описывает различные детали 
структуры приложения, скрипты и, что самое важное, его зависимости. Перечисленные зависимости включают версии 
популярных библиотек JavaScript, таких как  colors ,  express ,  lodash ,  mongoose и  request .

Файл package.json
```commandline

{
    "name": "patch-chat-app",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
      "test": "echo \"Error: no test specified\" && exit 1"
    },
    "author": "",
    "license": "ISC",
    "dependencies": {
      "colors": "1.2.4",
      "express": "3.4.8",
      "lodash": "2.4.2",
      "mongoose": "5.9.7",
      "request": "2.88.2"
    }
}

```
Джессика решает использовать Snyk Open Source, чтобы справиться с этой задачей.

### Ответьте на вопросы ниже
Какой файл манифеста в формате JSON служит центральным узлом для проектов Node.js, перечисляя метаданные, скрипты и 
объявления зависимостей? 

```commandline
package.json
```
Сколько зависимостей у нас есть для этой новой функции?

```commandline
5
```
Какой термин описывает косвенные зависимости пакетов, сформированные посредством общих предпосылок, которые могут 
скрывать уязвимости и требуют осторожной оценки? 

```commandline
transitive dependencies
```

## Задание 4
Зарегистрируйтесь и войдите в систему

Джессика помогает команде разработчиков на борту Snyk Open Source. Она посетила ИТ-отдел, чтобы убедиться, что разработчики могут войти на платформу, используя вход Single Sign-On ( SSO ), безопасный метод аутентификации, который компании используют, чтобы позволить сотрудникам и авторизованным пользователям получать доступ к приложениям и сервисам с помощью всего лишь одного набора учетных данных. Вместо того, чтобы иметь отдельные входы для каждого приложения, SSO упрощает процесс входа, интегрируя все учетные записи под централизованным поставщиком удостоверений. 

Она знает, что SSO улучшает пользовательский опыт и снижает разочарование среди разработчиков. Затем она возвращается к команде разработчиков, чтобы настроить этот новый проект на платформе, подключить его к репозиторию GitHub Patch Corp и выполнить начальное сканирование.

Она посещает платформу по адресу  https:/app.snyk.io/ .

Страница входа в систему Snyk

Примечание: Вы можете создать бесплатную учетную запись Snyk, зарегистрировавшись с помощью учетной записи GitHub. Она будет напрямую интегрирована с проектами, которые вы размещаете на GitHub, и вы сможете начать сканирование на предмет уязвимостей. 

Затем Джессика выбирает метод интеграции. Она знает, что команда использует GitHub для размещения своих репозиториев. Она подключает Snyk к коду. 

Страница Snyk для выбора метода интеграции

Она дает доступ как к частным, так и к публичным репозиториям. Команда разработчиков установила для своих основных репозиториев частную видимость.

Страница Snyk для настройки прав доступа

Затем она включает несколько функций, которые она хотела бы продемонстрировать команде, например, проверку запроса на извлечение, когда разработчик отправляет изменения на GitHub.

Страница Snyk для настройки параметров автоматизации и аутентификации

Теперь у всех разработчиков есть лицензия, и они могут получить доступ к панели управления, чтобы увидеть все проекты, над которыми они работают. Теперь пришло время Джессике импортировать новый проект.

Примечание: Вы можете клонировать проект в свою учетную запись GitHub здесь .

Импортировать новый проект

Джессика нажимает  «Добавить проекты»  в правом верхнем углу экрана, затем выбирает  GitHub  в качестве типа интеграции.

Страница Snyk для импорта нового проекта

Она ищет репозиторий, который нужно добавить.

Страница Snyk для выбора репозитория

Она выбирает репозиторий и нажимает зеленую кнопку в правом верхнем углу « Добавить выбранные репозитории» .

Проект теперь доступен на панели управления. Джессика и разработчики видят, что есть несколько уязвимостей. 

Страница Snyk для просмотра списка проектов

Джессика проанализирует результаты через секунду, но она хочет убедиться, что разработчики также получат такую возможность из своей среды IDE.

Помощь разработчикам в обеспечении прозрачности их IDE

В рамках своей миссии по продвижению левого мышления в области безопасности среди разработчиков Джессика фокусируется на интеграции интеграции Snyk в используемую ими IDE. Команда использует Visual Studio Code. Она помогает им установить расширение для оптимизации обнаружения и устранения уязвимостей в их IDE.

Интеграция Snyk IDE в Visual Studio Code

Примечание: перейдите на вкладку расширений в Visual Studio Code и введите Snyk в строку поиска. Вы можете продолжить, установить расширение и перезагрузить IDE. На левой боковой панели должен появиться новый значок. Вам нужно будет пройти аутентификацию, прежде чем вы начнете новое сканирование. Если вы не используете Visual Studio Code в качестве IDE, вы можете просмотреть документацию  , чтобы установить его в другой IDE . Затем вам нужно выполнить команду npm install  на своем терминале, чтобы установить все зависимости и увидеть результаты Snyk Open Source.

Теперь, когда команда разработчиков настроила интеграцию, у них есть такой же обзор уязвимостей на панели управления Snyk. 

Результаты Snyk Open Source со списком уязвимостей

### Ответьте на вопросы ниже
Какой единый механизм аутентификации позволяет пользователям плавно переходить между различными связанными 
платформами и сервисами? 
```commandline
single sign-on
```

## Задание 5
Анализ результатов с панели инструментов

Джессика теперь просматривает результаты сканирования. Она организует результаты по уровню серьезности (высокий, средний, низкий), что позволяет ей расставить приоритеты для критических проблем в первую очередь. Она может исследовать отдельные записи, чтобы просмотреть дополнительные сведения, такие как информация о безопасности, обзор уязвимости, затронутые файлы и предлагаемые исправления.

Джессика рассматривает одну из уязвимостей lodash .

Уязвимость прототипа загрязнения в пакете lodash на панели инструментов Snyk

Анализ результатов из IDE

В IDE разработчики могут получить все детали конкретной уязвимости безопасности и лучше понять контекст. Один из разработчиков просит Джессику помочь понять уязвимости и какие из них следует исправить в первую очередь.

Джессика садится с командой разработчиков и смотрит на результаты. Она видит, что они используют устаревшие пакеты с несколькими уязвимостями безопасности.

Разработчики спрашивают Джессику, к каким последствиям  может привести уязвимость прототипа, связанная с загрязнением,  в их кодовой базе, если ее не исправить.

Джессика объясняет, что загрязнение прототипов относится к определенному классу уязвимостей, обнаруженных в объектах JavaScript, в основном при работе с прототипами. Это происходит при непреднамеренных модификациях или дополнениях к встроенным прототипам объектов, что приводит к неожиданному поведению и рискам безопасности.

Сначала она объясняет, как JavaScript обрабатывает наследование и прототипные цепи, чтобы понять загрязнение прототипов. При создании нового объекта JavaScript использует прототипную цепь для поиска свойств и методов. Прототипная цепь начинается с Object.prototypeи продолжается вверх, пока не найдет запрошенное свойство или метод.

Затем она приводит следующий пример, в котором может возникнуть прототипное загрязнение:

Изменение свойства объекта  __proto__ позволяет нам внедрять новые свойства в существующие встроенные прототипы, такие как Array . Мы можем потенциально изменить функциональность основных функций JavaScript:

Непредсказуемое поведение:  измененные прототипы могут привести к тому, что функции будут вести себя не так, как предполагалось, что приведет к ошибкам и сбоям.
Манипулирование данными:  Злонамеренные субъекты могут использовать прототипное загрязнение для изменения данных, хранящихся в массивах или других структурах, что приведет к неверным выводам или даже потере данных.
Раскрытие информации:  злоумышленники могут использовать загрязнение прототипа, чтобы получить доступ к конфиденциальной информации, хранящейся в затронутых переменных или объектах.
Отказ в обслуживании ( DoS ):  злоумышленники могут создавать DoS- атаки против уязвимых систем, вызывая сбои или неполадки в работе приложений.
Чтобы снизить риск загрязнения прототипов, разработчикам следует избегать изменения встроенных прототипов и очищать пользовательский ввод перед назначением значений  __proto__. Библиотеки и фреймворки часто имеют встроенную защиту от загрязнения прототипов; поддержание зависимостей в актуальном состоянии помогает предотвратить уязвимости, вызванные этой проблемой.

```commandline
// Assuming global variable `Object.prototype.__proto__ = {}` exists
const pollutedObj = {
    __proto__: {
      // Adding a new property to Array.prototype
      length: 999,
    },
  };
const array = [];
array.__proto__ = pollutedObj;
console.log(Array.length); // Output: 999 instead of expected value
```

Примечание: Вы можете пройти  урок Snyk Learn  по этой уязвимости, чтобы узнать больше о Prototype Pollution. Этот уязвимый фрагмент кода также доступен в репозитории, который вы можете клонировать отсюда .

Разработчики запросили более подробную информацию о другой уязвимости — обходе каталогов .

Джессика объясняет, что обход каталога — это тип уязвимости веб-приложений, который позволяет злоумышленнику манипулировать входными данными для доступа к каталогам и файлам за пределами предполагаемой области действия приложения. Обычно это делается с помощью специальных символов, например, для ../перемещения вверх по иерархии файловой системы. Успешная атака обхода каталога может привести к несанкционированному доступу к конфиденциальной информации, такой как исходный код, файлы конфигурации или другие приложения, работающие на том же сервере.

```commandline
const express = require('express');
const path = require('path');
const fs = require('fs');
const app = express();
app.use(express.static(__dirname));

// VULNERABLE FUNCTION - SEND FILE WITH USER-SUPPLIED FILENAME
function sendFileWithUserSuppliedName(res, filePath) {
  const filename = req.query.filename; // User-supplied filename without validation
  const fullPath = path.join(__dirname, filePath, filename);
  
  fs.access(fullPath, fs.constants.F_OK, (err) => {
    if (!err) {
      res.sendFile(fullPath);
    } else {
      console.error(`File not found: ${filePath}`);
      res.status(404).send('File not found.');
    }
  });
}

app.get('/vulnerable', (req, res) => {
  const filePath = 'files';
  sendFileWithUserSuppliedName(res, filePath);
});

app.listen(3000, () => {
  console.log('Vulnerable app listening at http://localhost:3000');
});
```
В этом примере злоумышленник может предоставить специально созданный URL для обхода структуры каталогов и доступа к ограниченным ресурсам. Например, запрос http://localhost:3000/vulnerable?filename=../../../etc/passwd попытается раскрыть содержание /etc/passwd файл в системах Linux . Более безопасный подход включает проверку предоставленного имени файла на соответствие списку разрешенных значений перед построением окончательного пути к файлу. 

Примечание: Вы можете пройти урок Snyk Learn по этой уязвимости, чтобы узнать больше о обходе каталогов. Этот уязвимый фрагмент кода также доступен в репозитории, который вы можете клонировать отсюда .

Давайте посмотрим, как Джессика и команда разработчиков смогут исправить эти уязвимости.

### Ответьте на вопросы ниже
Какова версия уязвимого пакета lodash?

```commandline
2.4.2
```
Какая уязвимость позволяет злоумышленнику модифицировать объект?

prototype pollution
```commandline
Ответ не нужен
```
## Задание 6
Джессика объяснила разработчикам, что они могут следовать нескольким вариантам исправления уязвимостей. Во-первых, 
им нужно решить, какой из них следует устранить в первую очередь. Она хочет эффективно общаться с 
коллегами-разработчиками по вопросам управления уязвимостями и расстановки приоритетов. Ее сосредоточенность на 
устранении уязвимостей высокой степени серьезности в предстоящем спринте демонстрирует стратегический подход к 
минимизации рисков и максимизации эффективности ресурсов.

Причина сосредоточения внимания на уязвимостях высокой степени серьезности:  Уязвимости высокой степени серьезности 
представляют существенную угрозу для организации, пользователей и заинтересованных сторон. Эти уязвимости обычно 
позволяют злоумышленникам компрометировать системы, красть конфиденциальные данные или нарушать операции. Устранение 
уязвимостей высокой степени серьезности в первую очередь гарантирует устранение наиболее опасных слабых мест, что 
снижает вероятность серьезного инцидента.

Сортировка уязвимостей

Triage оценивает и классифицирует уязвимости в соответствии с их серьезностью, влиянием и вероятностью эксплуатации. 
Triage уязвимостей позволяет командам эффективно распределять ограниченные ресурсы и принимать обоснованные решения 
о том, какие уязвимости требуют немедленного внимания.

Джессика объясняет несколько лучших практик по сортировке уязвимостей:

- Приоритезация на основе оценок CVSS :  Общая система оценки уязвимостей ( CVSS ) предоставляет стандартизированные 
метрики оценки для оценки серьезности уязвимостей. Команды должны использовать оценки CVSS для определения относительной важности различных уязвимостей. 
- Рассмотрите бизнес-контекст:  не каждая уязвимость представляет одинаковый риск для организации. Такие факторы, как 
  чувствительность вовлеченных данных, обязательства по соблюдению нормативных требований и потенциальное финансовое воздействие нарушения, должны определять решения о сортировке.
- Оцените эксплуатируемость:  некоторые уязвимости эксплуатируются легче, чем другие. Команды должны оценить, 
  насколько легко злоумышленник может использовать данную уязвимость для проведения эффективной атаки.
- Сотрудничайте между дисциплинами: Эффективная сортировка уязвимостей требует сотрудничества между несколькими 
  отделами, включая разработку, операции и кибербезопасность. Междисциплинарная коммуникация способствует общему пониманию и консенсусу относительно приоритетов сортировки.
Джессика объяснила команде, что, поскольку новое приложение Patch Chat будет ожидать ввода данных от пользователя, команда разработчиков должна сосредоточиться на уязвимостях, которые включают это в свою область действия.

На панели управления Джессика показывает разработчикам, что они могут устранить уязвимости, нажав на зеленую  кнопку «Исправить эту уязвимость»  .

Уязвимость прототипа к загрязнению в пакете mongoose на панели управления Snyk

Будут показаны доступные исправления для всех уязвимостей, и вы сможете выбрать проблемы для исправления.

Страница Snyk для открытия запроса на исправление при выборе уязвимостей

Примечание: хотя вы можете применять массовые исправления к сторонним проектам, вам необходимо следовать политике тестирования и рабочему процессу CI / CD  организации , чтобы избежать каких-либо существенных критических изменений.

Она прокручивает страницу вниз до  Open a fix PR , чтобы открыть pull request на GitHub, который выглядит так. PR содержит всю информацию об уязвимости.  

Запрос на извлечение на GitHub создан для исправления уязвимости lodash

Примечание: запрос на извлечение будет создан автоматически, если вы будете следовать этому рабочему процессу. Если вы не знакомы с Git и концепциями контроля версий, мы рекомендуем вам пройти комнату Source Code Security .

Устранение уязвимостей

Команда разработчиков может исправить все уязвимости оптом . Однако Джессика сказала, что важно сбалансировать необходимость оперативного устранения уязвимостей высокой степени серьезности, обеспечивая при этом контроль качества и избегая существенных критических изменений, что требует тщательного планирования и координации среди разработчиков. 

Джессика предлагает схему, позволяющую реализовать этот деликатный подход:

- Создайте специальный бэклог:  создайте отдельный список высокоприоритетных уязвимостей, требующих немедленного 
внимания. Это позволит командам отслеживать прогресс и управлять ожиданиями.
- Разбивайте задачи на более мелкие части:  вместо того, чтобы пытаться устранить несколько уязвимостей высокой 
  степени серьезности одновременно с помощью одного запроса на извлечение, разбейте каждую задачу на более мелкие, самостоятельные единицы. Это упрощает тестирование и снижает вероятность введения регрессий.
- Внедрите конвейеры непрерывной интеграции и доставки ( CI / CD ):  используйте инструменты CI / CD для 
  автоматизации процессов сборки, модульного тестирования и интеграционного тестирования. Автоматизированное тестирование выявляет проблемы на ранних этапах цикла разработки, предотвращая попадание дефектов в производство.
- Проведите тщательное ручное тестирование:  в дополнение к автоматизированному тестированию проведите ручное 
  тестирование, чтобы убедиться, что исправления исправляют выявленные уязвимости и не вносят нежелательных побочных эффектов. Ручное тестирование фокусируется на пограничных случаях и сценариях, не охваченных автоматизированными тестами.
- Проводите поэтапные развертывания:  перед развертыванием обновлений в производственных средах выполните поэтапные 
  развертывания в предпроизводственных средах. Поэтапные развертывания предоставляют возможности для обнаружения и устранения проблем перед выпуском программного обеспечения для конечных пользователей.
- Мониторинг производительности после развертывания:  Постоянно отслеживайте производительность и стабильность 
  развернутого программного обеспечения после выпуска. Если возникают проблемы, быстро исследуйте и внедряйте необходимые исправления.
- Общайтесь открыто и часто:  держите членов команды в курсе прогресса, возникших проблем и планов по их решению. 
  Открытые линии общения способствуют доверию и сотрудничеству, позволяя командам эффективно работать вместе.


Объединение изменений и внедрение исправлений в производство

Хорошо функционирующая команда разработчиков понимает важность строгих процедур тестирования и проверки перед запуском кода в производство. Поддержание всеобъемлющего набора автоматизированных тестов гарантирует, что новые реализованные функции или исправления ошибок не приведут к регрессиям или не поставят под угрозу стабильность системы. Джессика знает, что у команды разработчиков есть набор тестов, охватывающий модульные, интеграционные и функциональные тесты. Они также включили линтеры для обнаружения антишаблонов или нарушений стиля на ранних этапах цикла разработки.

Она также знает, что если запрос на извлечение отправляется поздно в пятницу, команда должна следовать надлежащей процедуре, прежде чем объединять его. Хотя и возникает соблазн ускорить процедуру, учитывая приближающиеся выходные, спешка с проверками увеличивает вероятность того, что в производственные системы будут закрадываться пропущенные ошибки. 

Она соглашается с командой разработчиков рассмотреть и выполнить тесты и проверки в понедельник утром. Она знает, что такой подход вселяет уверенность как в инженерную организацию, так и в заинтересованных лиц относительно надежности их новых функций.

В понедельник утром Джессика смотрела на панель инструментов Snyk. Она поняла, что в lodash@4.17.5 — версии, рекомендованной в запросе на извлечение, поднятом в пятницу, — появилась новая уязвимость.

Уязвимость прототипа загрязнения в пакете lodash на панели инструментов Snyk

Она встречается с командой разработчиков и сообщает им, что у них есть два возможных сценария:

- Они могут объединить пятничный запрос на включение изменений в существующий вид, но им нужно будет создать еще один.
- Они могут обновить запрос на извлечение, чтобы отразить эту новую уязвимость, и исправить ее, внеся всего одно 
  изменение — обновив ее до последней версии.
Разработчики проверяют, что у них правильная версия, прежде чем отправлять изменения. На GitHub чеки зеленые; они могут объединить изменения и перейти к следующему шагу в своем конвейере CI / CD .

Нижняя часть запроса на включение изменений на GitHub с зелеными галочками перед слиянием

Если вы хотите больше узнать о различных этапах жизненного цикла разработки программного обеспечения, мы рекомендуем вам посетить  комнату SDLC  .

Примечание: Начните устранять некоторые уязвимости в этом проекте и постарайтесь уменьшить количество уязвимостей высокой степени серьезности! После того, как вы исправите все уязвимости высокой степени серьезности, вы можете начать устранять другие.

### Ответьте на вопросы ниже
Что означает CVSS?
```commandline
common vulnerability scoring system
```
Должна ли команда разработчиков массово исправить все уязвимости, обнаруженные в этой новой функции? (да/нет)
```commandline
n
```

## Задание 7
Джессика знает, что интеграция Snyk Open Source в конвейер CI / CD поможет автоматизировать и оптимизировать процесс.
Команды разработчиков используют CircleCI и GitHub Actions. Она следит за тем, чтобы следовать лучшим практикам, 
чтобы обеспечить бесперебойную работу, поддерживать безопасность и повышать эффективность:

- Интеграция с существующими инструментами:  интеграция автоматизированного решения для сканирования уязвимостей в 
существующие цепочки инструментов важна для предотвращения сбоев и обеспечения внедрения.
- Внедрение автоматизированных исправлений:  если это возможно и после обсуждения с командой разработчиков, включите 
  возможности автоматического исправления, чтобы применять исправления для выявленных уязвимостей в предпроизводственных средах.
- Установление порогов:  Определите приемлемые пороги уязвимости перед тем, как вызывать сбои сборки. Такой подход 
  позволяет избежать ненужных задержек, вызванных ложными положительными результатами.
- Мониторинг тестового покрытия:  это позволяет свести к минимуму вероятность внедрения уязвимого кода в 
  производственные среды.
- Отслеживание прогресса:  используйте панели мониторинга и отчеты от Snyk для мониторинга состояния проектов с 
  течением времени. Отслеживание прогресса помогает выявлять тенденции и области, требующие улучшения.
- Эффективное сотрудничество:  делитесь результатами сканирования Snyk с заинтересованными сторонами, такими как 
  разработчики, инженеры по безопасности и владельцы продуктов. 

CircleCI и Snyk Orb

Джессика просматривает документацию Snyk и видит, что инструмент интегрируется с CircleCI с помощью Snyk Orb. 
CircleCI позволяет пользователям легко создавать рабочие процессы CI / CD с помощью группы готовых к использованию 
команд, называемых Orbs, которые можно добавить в файл конфигурации.  С помощью Snyk Orb Джессика может быстро 
добавить сканирование Snyk к существующему рабочему процессу CI / CD для тестирования и мониторинга уязвимостей с 
открытым исходным кодом. Затем результаты отображаются в выходном представлении CircleCI, а также их можно 
отслеживать на панели мониторинга Snyk.

Поиск Snyk Orb на сайте CircleCI

Джессика устанавливает его со страницы реестра Orbs. 

Краткое руководство по использованию Orb на сайте CircleCI

Действия Snyk GitHub

Джессика просматривает документацию Snyk и видит, что инструмент интегрируется с GitHub Actions. Она переходит на вкладку Actions в репозитории и ищет действия Snyk. Она настраивает действие Snyk Security.

Поиск действия Snyk на странице «Начало работы с действиями GitHub»

Файл YAML заполняется автоматически. Джессике нужно будет убедиться, что токен Snyk хранится безопасно.

Файл YAML для действия Snyk

Бонус:  создайте небольшой конвейер CI / CD для этого проекта и реализуйте такие инструменты, как CircleCI и действия GitHub, чтобы использовать инструменты безопасности.

### Ответьте на вопросы ниже
Как CircleCI помогает оптимизировать конфигурацию и стандартизацию конвейера?

```commandline
orb
```
Какой файл определяет конфигурацию рабочего процесса GitHub Actions, которая обеспечивает автоматизацию и 
настраиваемые последовательности для сборки, тестирования и развертывания?

```commandline
yaml
```

## Задание 8
Джессика хочет настроить непрерывный мониторинг для проекта Patch Corp. Она хочет настроить оповещения, уведомления и механизмы отчетности, которые поддерживают осведомленность разработчиков. Постоянная бдительность играет решающую роль в сохранении безопасности приложений.

Настройка пороговых значений оповещений

Джессика знает, что установление разумных порогов оповещения обеспечивает своевременное обнаружение, не перегружая 
разработчиков избыточными или незначительными предупреждениями. Она учитывает следующие критерии: 

- Серьезность: настройте отдельные триггеры для различных категорий серьезности (критическая, высокая, средняя, низкая).
- Частота: определите минимальные интервалы между последовательными оповещениями, связанными с похожими проблемами.
- Скорость изменения: установите базовые показатели, отражающие типичные колебания количества уязвимостей, а затем 
  установите пороговые значения выше этих норм, чтобы эффективно выявлять аномалии.
Джессика будет периодически пересматривать и корректировать пороговые значения с учетом исторических тенденций и потребностей организации.

Выбор каналов уведомлений

Джессика выбирает подходящие каналы уведомлений, чтобы облегчить быстрые действия и минимизировать время ответа. Ее 
возможности варьируются от электронной почты и платформ обмена мгновенными сообщениями до систем тикетов и 
пользовательских веб-хуков. Факторы, влияющие на выбор канала, включают:  

- Срочность: выбирайте средства общения в режиме реального времени (Slack), когда имеете дело со срочными вопросами, 
требующими немедленного внимания.
- Возможности интеграции: используйте существующие инструменты совместной работы, уже принятые в организации, 
  обеспечивая согласованность и узнаваемость.
- Предпочтения аудитории: учитывайте личные предпочтения, предлагая различные способы получения оповещений, позволяя 
  людям выбирать методы, соответствующие их стилю работы.


Создание информативного отчета

Джессика хочет создавать всеобъемлющие, но понятные отчеты, чтобы заинтересованные стороны могли быстро понять 
сложные ландшафты безопасности. Она фокусируется на предоставлении ценных идей посредством визуализаций, сводок и 
анализа тенденций. Основные элементы эффективной отчетности включают:

- Резюме: предоставьте краткие обзоры, в которых подчеркнуты основные выводы, предпринятые действия и запланированные 
будущие шаги.
- Анализ тенденций: иллюстрируйте закономерности прогресса или регресса с помощью линейных диаграмм, столбчатых 
  диаграмм или тепловых карт.
- Приоритизация рисков: классифицируйте уязвимости по степени серьезности, вероятности и воздействия, направляя 
  усилия по устранению проблем в области, вызывающие наибольшую обеспокоенность.
- Сравнения: сравнение текущего состояния с прошлыми показателями эффективности, выявление достижений или недостатков.
Оповещение/мониторинг через ChatOps

ChatOps — это практика использования платформ обмена сообщениями в режиме реального времени, таких как Slack, 
Microsoft Teams и другие, для упрощения совместной работы, оптимизации рабочих процессов и повышения эффективности 
работы технических групп, включая группы безопасности и DevOps.

Джессика объясняет преимущества для обеих команд:

- Расширенное сотрудничество: ChatOps способствует взаимодействию между членами команды, позволяя им обмениваться 
знаниями, идеями и знаниями в режиме реального времени, что приводит к более быстрому решению проблем, принятию более качественных решений и повышению общей производительности.
- Улучшенная видимость: члены команды имеют мгновенный доступ к соответствующей информации, обновлениям статуса и 
  оповещениям. Это помогает всем оставаться в курсе развития проекта, уязвимостей и других важных вопросов.
- Сокращение времени реагирования: платформы обмена сообщениями в режиме реального времени поддерживают быструю и 
  эффективную коммуникацию, что приводит к сокращению времени реагирования на инциденты и снижению затрат, связанных с устранением уязвимостей.
- Повышение прозрачности: способствует прозрачному общению, помогая установить подотчетность и ответственность среди 
  членов команды.
- Лучшая документация: облегчает создание и ведение централизованной документации. Члены команды могут легко искать 
  прошлые разговоры, находить ответы на вопросы и просматривать важные обсуждения.
- Интеграции и автоматизация: Многие современные платформы обмена сообщениями предлагают интеграцию с различными 
  инструментами и сервисами, используемыми командами безопасности и разработки. Команды могут интегрировать решения для мониторинга, системы тикетов и инструменты CI / CD с платформами обмена сообщениями.
- Оптимизированная обработка инцидентов: поддерживает быстрое обнаружение инцидентов и реагирование на них. Когда 
  возникает новая проблема, члены команды получают автоматические уведомления и могут совместно диагностировать и решать проблему

Джессика решила интегрировать Snyk в Slack, который используется в команде разработчиков, чтобы они могли получать 
  оповещения на выделенном канале. Она ищет приложение Snyk в реестре приложений в Slack и читает информацию на 
  странице Slack Snyk, чтобы убедиться, что оно соответствует политике безопасности, которая у них есть в плане 
  разрешений.   

Поиск приложения Snyk в Slack

Страница Snyk для Slack с описанием приложения

Затем она получает идентификатор канала из Slack и вводит его на панели управления Snyk.

Экран Slack с подробностями канала patch-chat-app

Страница настроек приложения Slack по умолчанию на панели управления Snyk
Перед тем, как закончить настройку интеграции Snyk ChatBot, Джессика установила уровень серьезности на Высокий и 
выше . Она считает это наилучшей практикой: 

- Приоритизация критических уязвимостей:  она следит за тем, чтобы команда отмечала только самые серьезные уязвимости. 
- Избегайте усталости от оповещения:  это когда люди перегружены чрезмерными уведомлениями, что приводит к снижению 
  эффективности реагирования на реальные угрозы. Джессика минимизирует количество ложных срабатываний, сообщаемых ее команде.
- Сохранение командной концентрации: члены  команды могут сосредоточиться на решении насущных проблем, не отвлекаясь 
  на мелочи.
- Поощрение проактивного поведения: Джессика мотивирует команду занять проактивную позицию в отношении безопасности. 
  Команда становится более бдительной в выявлении потенциальных слабостей и принятии мер по снижению рисков.
- Продвижение эффективного распределения ресурсов: Джессика следит за тем, чтобы команда разумно распределяла свои 
  ограниченные ресурсы. Она направляет усилия команды на устранение наиболее серьезных рисков в первую очередь и оптимизацию возврата инвестиций в плане улучшения безопасности. 

Теперь разработчик может видеть оповещения, поступающие на канал Slack.

Пример уведомления Snyk в Slack

### Ответьте на вопросы ниже
Какая совместная практика DevOps сочетает в себе каналы связи в реальном времени, автоматизацию и операционную гибкость?

```commandline
chatops
```

## Задание 9
Джессика хочет предпринять некоторые дополнительные шаги в качестве передовой практики для внедрения этого процесса в рабочий процесс команды.

Разработка надежной политики

Джессика решает создать эффективную политику, которая станет краеугольным камнем успешных инициатив по управлению 
рисками. Вот некоторые ключевые аспекты, на которые она обращает внимание: 

- Определение области действия: Джессике нужно будет четко указать, какие проекты, репозитории или технологии 
попадают под действие установленных правил. Наш пример охватывает все публичные и частные репозитории, управляемые Patch Corp.
- Установление ожиданий: Джессика обрисует обязательные процедуры, стандарты и ограничения, касающиеся использования 
  открытого исходного кода. Она потребует автоматизированного сканирования уязвимостей с использованием Snyk Open Source в рамках их конвейера.
- Распределение обязанностей: Джессике нужно будет четко распределить роли и обязанности для всех вовлеченных сторон, 
  гарантируя, что все понимают свои обязательства. Джессика распределит конкретные обязанности между разработчиками, тестировщиками и инженерами по безопасности, чтобы гарантировать, что каждый играет свою роль в снижении рисков. Безопасность — это общая ответственность в DevSecOps .
- Периодическая оценка и обновление: Джессика будет регулярно оценивать политики, чтобы поддерживать их в актуальном 
  состоянии и соответствовать передовым отраслевым практикам, основываясь на новой информации, новых тенденциях и уроках, извлеченных из предыдущих инцидентов. 


Образовательные инициативы

Джессика знает, что для ее компании крайне важно иметь четкую дорожную карту образовательных мероприятий:

- Модули адаптации: Джессика познакомит новых членов команды с основными принципами, стандартными методологиями и 
доступными ресурсами. Она думает о создании модуля адаптации, охватывающего основы управления уязвимостями, лицензирование с открытым исходным кодом и важность безопасных методов кодирования.
- Курсы повышения квалификации: Джессика будет периодически пересматривать основные концепции, чтобы закрепить знания 
  и устранить потенциальные пробелы в знаниях, возникающие из-за текучести кадров или изменения требований к работе. 
- Специализированные семинары: Джессика организует продвинутые сессии, концентрируясь на специализированных 
  предметных областях, удовлетворяющих различным уровням навыков и интересам. Она думает о проведении семинара по продвинутым методам анализа уязвимостей, таким как фаззинг и эксплуатация, чтобы расширить возможности команды разработчиков. 
- Интерактивные форматы: Джессика знает, что практические занятия и игровые задания лучше всего стимулируют активное 
  участие учащихся. 


Содействие диалогу между различными департаментами

У Джессики есть несколько идей по оптимизации сотрудничества и общения:

- Совместное использование ресурсов: Джессика будет использовать свою систему управления контентом для хранения и 
распространения важных документов/политик по безопасности.
- Платформы для совместной работы: Джессика выбрала инструменты для общения (например, Slack), которые поддерживают 
  как синхронное, так и асинхронное взаимодействие.
- Стандартизированные наборы инструментов: Джессика примет участие в обсуждениях инструментов и платформ, которые 
  будут способствовать бесперебойному обмену информацией, отслеживанию задач и мониторингу состояния, чтобы гарантировать, что команда безопасности будет использовать один и тот же набор инструментов.


Что вас ждет дальше?

Теперь, когда вы приобрели некоторый опыт настройки Snyk Open Source в одном проекте, вы можете начать использовать 
его в своих сторонних проектах или даже в проектах с открытым исходным кодом!

### Ответьте на вопросы ниже
Молодец, Джессика, она это сделала!
```commandline
Ответ не нужен
```
[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)