[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [Enumeration & Brute Force](https://tryhackme.com/room/enumerationbruteforce) 

Всего 7 заданий:
## Задание 1
#### Введение
Перечисление аутентификации является фундаментальным аспектом тестирования безопасности, концентрируясь конкретно на 
механизмах, которые защищают чувствительные аспекты веб-приложений; этот процесс включает методическую проверку 
различных компонентов аутентификации, начиная от проверки имени пользователя и заканчивая политиками паролей и 
управлением сеансами. Каждый из этих элементов тщательно тестируется, поскольку они представляют собой потенциальные 
уязвимости, которые, если их эксплуатировать, могут привести к значительным нарушениям безопасности.

#### Цели
К концу этой комнаты вы:

- Понять значение перечисления и то, как оно создает основу для эффективных атак методом перебора.
- Изучите расширенные методы перечисления, уделяя особое внимание извлечению информации из подробных сообщений об 
  ошибках.
- Понять взаимосвязь между перечислением и атаками методом подбора при взломе механизмов аутентификации.
- Получите практический опыт использования инструментов и методов как для перечисления, так и для атак методом перебора.

#### Предварительные условия
Прежде чем приступить к работе с этой комнатой, вам необходимо иметь базовые знания о следующих концепциях:

- Знакомство с HTTP и HTTPS, включая структуры запросов/ответов и общие коды состояний.
- Опыт использования таких инструментов, как Burp Suite .
- Базовые навыки навигации и использования командной строки Linux .
### Ответьте на вопросы ниже
Разверните целевую виртуальную машину, прикрепленную к этой задаче, нажав зеленую кнопку Start Machine. После 
получения сгенерированного IP-адреса машины вы можете использовать AttackBox или собственную виртуальную машину, 
подключенную к VPN TryHackMe.

Добавьте MACHINE_IP в файл /etc/hosts . Например:
```commandline
MACHINE_IP    enum.thm
```
Через 3 минуты посетите http://enum.thm, чтобы получить доступ к машине. Мы рекомендуем использовать AttackBox для 
этой комнаты. 
```commandline
Ответ не нужен
```

## Задание 2
Перечисление аутентификации
Значок отпечатка пальца

Подумайте о себе как о цифровом детективе. Речь идет не только о сборе улик, но и о понимании того, что эти улики говорят о безопасности системы. По сути, это то, что подразумевает перечисление аутентификации. Это похоже на сбор пазла, а не просто на отметку пунктов в контрольном списке.

Перечисление аутентификации похоже на снятие слоев с луковицы. Вы снимаете каждый слой безопасности системы, чтобы раскрыть реальные операции под ним. Речь идет не только о рутинных проверках; речь идет о том, чтобы увидеть, как все связано.

Определение действительных имен пользователей

Знание действительного имени пользователя позволяет злоумышленнику сосредоточиться только на пароле. Вы можете выяснить имена пользователей разными способами, например, наблюдая за тем, как приложение реагирует во время входа в систему или сброса пароля. Например, сообщения об ошибках, в которых указано «эта учетная запись не существует» или «неверный пароль», могут намекать на действительные имена пользователей, облегчая работу злоумышленника.

Политика паролей

Руководства по созданию паролей могут дать ценную информацию о сложности паролей, используемых в приложении. Понимая эти политики, злоумышленник может оценить потенциальную сложность паролей и соответствующим образом адаптировать свою стратегию. Например, приведенный ниже код PHP использует регулярное выражение для запроса пароля, включающего символы, цифры и заглавные буквы:

```commandline
<?php
$password = $_POST['pass']; // Example1
$pattern = '/^(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).+$/';

if (preg_match($pattern, $password)) {
    echo "Password is valid.";
} else {
    echo "Password is invalid. It must contain at least one uppercase letter, one number, and one symbol.";
}
?>
```
В приведенном выше примере, если предоставленный пароль не удовлетворяет политике, определенной в переменной шаблона , приложение вернет сообщение об ошибке, раскрывающее требование к коду регулярного выражения. Злоумышленник может сгенерировать словарь, удовлетворяющий этой политике.

Распространенные места для перечисления
Веб-приложения полны функций, которые облегчают жизнь пользователям, но также могут подвергать их рискам:

Страницы регистрации

Веб-приложения обычно делают процесс регистрации пользователя простым и информативным, немедленно указывая, доступен ли адрес электронной почты или имя пользователя. Хотя эта обратная связь предназначена для улучшения пользовательского опыта, она может непреднамеренно служить двойной цели. Если попытка регистрации приводит к сообщению о том, что имя пользователя или адрес электронной почты уже занято, приложение невольно подтверждает свое существование любому, кто пытается зарегистрироваться. Злоумышленники используют эту функцию, проверяя потенциальные имена пользователей или адреса электронной почты, таким образом составляя список активных пользователей без необходимости прямого доступа к базовой базе данных.

Функции сброса пароля

Механизмы сброса пароля разработаны, чтобы помочь пользователям восстановить доступ к своим учетным записям, введя свои данные для получения инструкций по сбросу. Однако различия в ответе приложения могут непреднамеренно раскрыть конфиденциальную информацию. Например, различия в ответе приложения о том, существует ли имя пользователя, могут помочь злоумышленникам проверить личность пользователя. Анализируя эти ответы, злоумышленники могут уточнить свои списки допустимых имен пользователей, существенно повысив эффективность последующих атак.

Подробные ошибки

Подробные сообщения об ошибках во время попыток входа в систему или других интерактивных процессов могут раскрыть 
слишком много. Когда эти сообщения различают «имя пользователя не найдено» и «неправильный пароль», они призваны 
помочь пользователям понять свои проблемы со входом в систему. Однако они также предоставляют злоумышленникам 
определенные подсказки о допустимых именах пользователей, которые могут быть использованы для более целенаправленных 
атак. 

Информация об утечке данных

Данные о предыдущих нарушениях безопасности являются золотой жилой для злоумышленников, поскольку они позволяют им 
проверить, используются ли повторно скомпрометированные имена пользователей и пароли на разных платформах. Если 
злоумышленник находит совпадение, это предполагает не только повторное использование имени пользователя, но и 
потенциальную повторную переработку пароля, особенно если платформа уже была взломана ранее. Этот метод 
демонстрирует, как последствия одного нарушения данных могут распространяться на несколько платформ, эксплуатируя 
связи между различными онлайн-идентификациями.

### Ответьте на вопросы ниже
Какие типы сообщений об ошибках могут непреднамеренно предоставить злоумышленникам подтверждение действительных имен пользователей?


```commandline
Verbose errors
```

## Задание 3
Понимание подробных ошибок
Значок карты

Представьте, что вы детектив, который умеет находить улики, которые другие могут пропустить. В мире веб-разработки подробные ошибки подобны непреднамеренному шепоту системы, раскрывающему секреты, которые должны быть скрыты. Эти подробные сообщения об ошибках бесценны в процессе отладки, помогая разработчикам понять, что именно пошло не так. Однако, как подслушанный разговор может раскрыть слишком много, эти подробные ошибки могут непреднамеренно раскрыть конфиденциальные данные тем, кто умеет слушать.

Подробные ошибки могут превратиться в кладезь информации, предоставляя такие сведения, как:

Внутренние пути : подобно карте, ведущей к спрятанным сокровищам, они раскрывают пути к файлам и структуры каталогов сервера приложений, которые могут содержать файлы конфигурации или секретные ключи, невидимые обычному пользователю.
Сведения о базе данных : эти ошибки, позволяющие заглянуть в базу данных, могут раскрыть секреты, такие как имена таблиц и сведения о столбцах.
Информация о пользователе : иногда эти ошибки могут даже содержать намеки на имена пользователей или другие персональные данные, предоставляя подсказки, имеющие решающее значение для дальнейшего расследования.
Вызывание подробных ошибок
Злоумышленники вызывают подробные ошибки, чтобы заставить приложение раскрыть свои секреты. Ниже приведены некоторые распространенные методы, используемые для провоцирования этих ошибок:

Неверные попытки входа : это как стучаться в каждую дверь, чтобы посмотреть, какая из них откроется. Намеренно вводя неправильные имена пользователей или пароли, злоумышленники могут вызывать сообщения об ошибках, которые помогают отличить действительные имена пользователей от недействительных. Например, ввод несуществующего имени пользователя может вызвать другое сообщение об ошибке, чем ввод существующего, показывая, какие имена пользователей активны.

SQL -инъекция : эта техника заключается в подсовывании вредоносных SQL- команд в поля ввода, в надежде, что система споткнется и раскроет информацию о структуре своей базы данных. Например, размещение одинарной кавычки ( ') в поле входа может привести к тому, что база данных выдаст ошибку, непреднамеренно раскрывая сведения о своей схеме.

Включение файлов/обход пути : манипулируя путями файлов, злоумышленники могут попытаться получить доступ к ограниченным файлам, заставляя систему совершать ошибки, которые раскрывают внутренние пути. Например, использование последовательностей обхода каталогов, таких как, ../../может привести к ошибкам, которые раскрывают ограниченные пути файлов.

Манипуляция с формами : настройка полей или параметров формы может заставить приложение отображать ошибки, раскрывающие внутреннюю логику или конфиденциальную информацию пользователя. Например, фильтрация скрытых полей формы для вызова ошибок проверки может раскрыть информацию об ожидаемом формате или структуре данных.

Фаззинг приложений : отправка неожиданных входных данных в различные части приложения для наблюдения за его реакцией может помочь выявить слабые места. Например, такие инструменты, как Burp Suite Intruder, используются для автоматизации процесса, бомбардируя приложение различными полезными нагрузками, чтобы увидеть, какие из них вызывают информативные ошибки.

Роль перечисления и грубой силы
Когда дело доходит до взлома аутентификации, перечисление и брутфорс часто идут рука об руку:

Подсчет пользователей : обнаружение действительных имен пользователей подготавливает почву, уменьшая необходимость догадываться при последующих атаках методом подбора.
Использование подробных ошибок : информация, полученная в результате анализа этих ошибок, может пролить свет на такие аспекты, как политики паролей и механизмы блокировки учетных записей, прокладывая путь к более эффективным стратегиям подбора.
Подводя итог, можно сказать, что подробные ошибки — это своего рода «хлебные крошки», которые ведут злоумышленников глубже в систему, предоставляя им информацию, необходимую для корректировки своих стратегий и потенциальной угрозы безопасности способами, которые могут остаться незамеченными, пока не станет слишком поздно.

Перечисление в формах аутентификации
В этом отчете HackerOne злоумышленник смог перечислить пользователей, используя функцию сайта «Забыть пароль». Аналогично мы можем перечислить адреса электронной почты в формах входа. Например, перейдите на  http ://enum. thm /labs/verbose_login/ и введите любой адрес электронной почты в поле ввода «Электронная почта».

Если вы введете недействительный адрес электронной почты, сайт ответит сообщением «Адрес электронной почты не существует», что будет означать, что данный адрес электронной почты еще не зарегистрирован.

Сообщение об ошибке «Электронная почта не существует»

Однако если адрес электронной почты уже зарегистрирован, веб-сайт ответит сообщением об ошибке «Неверный пароль», указывающим на то, что адрес электронной почты существует в базе данных, но пароль неверный.

Сообщение об ошибке «Неверный пароль»

Автоматизация
Ниже приведен скрипт Python, который будет проверять допустимые адреса электронной почты в целевом веб-приложении. Сохраните код ниже как script.py .

```python
import requests
import sys

def check_email(email):
    url = 'http://enum.thm/labs/verbose_login/functions.php'  # Location of the login function
    headers = {
        'Host': 'enum.thm',
        'User-Agent': 'Mozilla/5.0 (X11; Linux aarch64; rv:102.0) Gecko/20100101 Firefox/102.0',
        'Accept': 'application/json, text/javascript, */*; q=0.01',
        'Accept-Language': 'en-US,en;q=0.5',
        'Accept-Encoding': 'gzip, deflate',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'X-Requested-With': 'XMLHttpRequest',
        'Origin': 'http://enum.thm',
        'Connection': 'close',
        'Referer': 'http://enum.thm/labs/verbose_login/',
    }
    data = {
        'username': email,
        'password': 'password',  # Use a random password as we are only checking the email
        'function': 'login'
    }

    response = requests.post(url, headers=headers, data=data)
    return response.json()

def enumerate_emails(email_file):
    valid_emails = []
    invalid_error = "Email does not exist"  # Error message for invalid emails

    with open(email_file, 'r') as file:
        emails = file.readlines()

    for email in emails:
        email = email.strip()  # Remove any leading/trailing whitespace
        if email:
            response_json = check_email(email)
            if response_json['status'] == 'error' and invalid_error in response_json['message']:
                print(f"[INVALID] {email}")
            else:
                print(f"[VALID] {email}")
                valid_emails.append(email)

    return valid_emails

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python3 script.py <email_list_file>")
        sys.exit(1)

    email_file = sys.argv[1]

    valid_emails = enumerate_emails(email_file)

    print("\nValid emails found:")
    for valid_email in valid_emails:
        print(valid_email)
```
Нажмите здесь, чтобы ознакомиться с подробным описанием сценария.
Мы можем использовать общий список адресов электронной почты из этого репозитория .

Список имен пользователей из github

После загрузки списка полезной нагрузки используйте скрипт на AttackBox или на своем собственном компьютере для проверки действительных адресов электронной почты.

Примечание: Напоминаем, что мы настоятельно рекомендуем использовать AttackBox для этой задачи.

скрипт.py
```python
user@tryhackme $ python3 script.py usernames_gmail.com.txt
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[INVALID] xxxxxx@gmail.com
[VALID] xxxxxx@gmail.com
```

### Ответьте на вопросы ниже
Какой действительный адрес электронной почты из списка?
```commandline
canderson@gmail.com
```

## Задание 4
Уязвимости процесса сброса пароля
Механизм сброса пароля является важной частью удобства пользователя в современных веб-приложениях. Однако их реализация требует тщательного рассмотрения вопросов безопасности, поскольку плохо защищенные процессы сброса пароля могут быть легко взломаны.

Сброс по электронной почте

Когда пользователь сбрасывает свой пароль, приложение отправляет электронное письмо, содержащее ссылку для сброса или токен, на зарегистрированный адрес электронной почты пользователя. Затем пользователь нажимает на эту ссылку, которая направляет его на страницу, где он может ввести новый пароль и подтвердить его, или система автоматически сгенерирует новый пароль для пользователя. Этот метод в значительной степени зависит от безопасности учетной записи электронной почты пользователя и секретности отправленной ссылки или токена.

Сброс на основе контрольного вопроса

Это подразумевает, что пользователь отвечает на ряд предварительно настроенных вопросов безопасности, которые он установил при создании своей учетной записи. Если ответы верны, система позволяет пользователю продолжить сброс пароля. Хотя этот метод добавляет уровень безопасности, требуя информацию, которую должен знать только пользователь, он может быть скомпрометирован, если злоумышленник получит доступ к персонально идентифицируемой информации ( PII ), которую иногда можно легко найти или угадать.

Сброс через SMS

Это работает аналогично сбросу на основе электронной почты, но использует SMS для доставки кода сброса или ссылки непосредственно на мобильный телефон пользователя. После того, как пользователь получит код, он может ввести его на предоставленной веб-странице, чтобы получить доступ к функции сброса пароля. Этот метод предполагает, что доступ к телефону пользователя защищен, но он может быть уязвим для атак с подменой SIM-карты или перехватов.

Каждый из этих методов имеет свои уязвимости:

Предсказуемые токены : если токены сброса, используемые в ссылках или SMS-сообщениях, предсказуемы или следуют последовательному шаблону, злоумышленники могут угадать или перебрать свой способ создания действительных URL-адресов сброса.
Проблемы с истечением срока действия токена : токены, которые остаются действительными слишком долго или не истекают сразу после использования, предоставляют окно возможностей для злоумышленников. Крайне важно, чтобы токены истекали быстро, чтобы ограничить это окно.
Недостаточная проверка : механизмы проверки личности пользователя, такие как контрольные вопросы или аутентификация на основе электронной почты, могут быть слабыми и подверженными злоумышленникам, если вопросы слишком общие или учетная запись электронной почты скомпрометирована.
Раскрытие информации : любое сообщение об ошибке, в котором указывается, зарегистрирован ли адрес электронной почты или имя пользователя, может непреднамеренно помочь злоумышленникам в их попытках подсчитать, подтвердив существование учетных записей.
Небезопасная передача : передача ссылок сброса или токенов по не-HTTPS-соединениям может подвергнуть эти критически важные элементы риску перехвата сетевыми перехватчиками.
Использование предсказуемых токенов
Простые, предсказуемые или имеющие длительное время истечения токены могут быть особенно уязвимы для перехвата или грубой силы. Например, следующий код используется уязвимым приложением, размещенным в лаборатории Predictable Tokens:

$token = mt_rand(100, 200);
$query = $conn->prepare("UPDATE users SET reset_token = ? WHERE email = ?");
$query->bind_param("ss", $token, $email);
$query->execute();
Код выше устанавливает случайный трехзначный PIN-код в качестве токена сброса отправленного письма. Поскольку этот токен не использует смешанные символы, его можно легко взломать методом подбора.

Чтобы продемонстрировать это, перейдите по  ссылке http ://enum.thm /labs / predictable_tokens/ .

Предсказуемые токены входа

Перейдите на страницу сброса пароля приложения, введите «admin@admin.com» в поле ввода адреса электронной почты  и нажмите «Отправить».

Страница сброса приложения

Приложение ответит сообщением об успешном завершении.

Ссылка на сброс пароля отправлена.

Для демонстрационных целей веб-приложение использует ссылку сброса:http://enum.thm/labs/predictable_tokens/reset_password.php?token=123

Сообщение об ошибке «Неверный токен»

Обратите внимание, что токен — это простое числовое значение.  Используя Burp Suite , перейдите по указанному выше URL и захватите запрос.

Затем отправьте запрос злоумышленнику, выделите значение параметра токена и нажмите кнопку «Добавить полезную нагрузку», как показано ниже.

Вкладка «Злоумышленник» с уязвимым запросом

Используя AttackBox или собственную атакующую виртуальную машину , используйте Crunch для генерации списка чисел от 100 до 200. Этот список будет использоваться в качестве словаря в атаке методом перебора.

Использование Crunch
user@tryhackme $ crunch 3 3 -o otp.txt -t %%% -s 100 -e 200             

Crunch will now generate the following amount of data: 404 bytes
0 MB
0 GB
0 TB
0 PB
Crunch will now generate the following number of lines: 101 

crunch: 100% completed generating output
Вернитесь к Intruder и настройте полезную нагрузку для использования сгенерированного файла.

otp.txt у злоумышленника

показ загруженного otp.txt

Атака займет некоторое время, если вы используете Burp Suite Community Edition. Однако после успеха вы получите ответ с гораздо большей длиной контента по сравнению с ответами с сообщением об ошибке «Недействительный токен».

Ответ с самым большим размером ответа

Войдите в приложение, используя новый пароль.

Флаг на панели управления

Обратите внимание, что большинство веб-приложений используют 6-значный код вместо трех. Мы используем меньшее значение в этой демонстрации, поскольку используем версию Burp Suite Community .

### Ответьте на вопросы ниже
Что такое флаг?


```commandline
THM{50_pr3d1ct4BL333!!}
```

## Задание 5
Базовая аутентификация в 2k24?
Базовая аутентификация предлагает более простой метод защиты доступа к устройствам. Для этого требуется только имя пользователя и пароль, что упрощает реализацию и управление на устройствах с ограниченными возможностями обработки.  Сетевые устройства, такие как маршрутизаторы, обычно используют базовую аутентификацию для управления доступом к своим административным интерфейсам. В этом сценарии основной целью является предотвращение несанкционированного доступа с минимальной настройкой.

Хотя базовая аутентификация не предлагает надежных функций безопасности, предоставляемых более сложными схемами, такими как OAuth или аутентификация на основе токенов, ее простота делает ее подходящей для сред, где управление сеансами и отслеживание пользователей не требуются или управляются по-другому. Например, в таких устройствах, как маршрутизаторы, которые в первую очередь используются для изменения конфигурации, а не для обычного использования, накладные расходы на поддержание состояний сеансов не нужны и могут усложнить работу устройства.

HTTP Basic Authentication определена в RFC 7617 , где указано, что учетные данные (имя пользователя и пароль) должны передаваться в виде строки в кодировке base64 в заголовке HTTP Authorization. Этот метод прост, но не безопасен для не-HTTPS-соединений, поскольку base64 не является методом шифрования и может быть легко декодирован. Реальная угроза часто исходит от слабых учетных данных, которые можно взломать методом подбора.

Базовая аутентификация HTTP обеспечивает простой механизм «запрос-ответ» для запроса учетных данных пользователя.

Базовый процесс аутентификации при входе в систему

https://developer.mozilla.org/en-US/docs/Web/ HTTP /Аутентификация

Формат заголовка авторизации следующий:

Authorization: Basic <credentials>
где <credentials>— кодировка base64 username:password. Подробные спецификации см. в RFC 7617 .

Эксплуатация
Чтобы продемонстрировать это, перейдите по адресу  http ://enum.thm /labs/basic_auth / .

Домашняя страница лаборатории базовой аутентификации

Введите любое имя пользователя и пароль во всплывающем окне и перехватите запрос базовой аутентификации с помощью Burp.

Случайные учетные данные для входа во всплывающем окне

Закодированные учетные данные для входа в заголовке HTTP-запроса

Щелкните правой кнопкой мыши запрос и отправьте его злоумышленнику.

Контекстное меню захваченного запроса

В Burp Intruder перейдите на вкладку «Positions» и декодируйте строку в кодировке base64 в заголовке Authorization.

Декодированная строка в кодировке base64

После декодирования выделите декодированную строку и нажмите кнопку «Добавить» в правом верхнем углу.

Выделенный текст с подсветкой полезной нагрузки

Далее следует настройка полезных нагрузок. Перейдите на вкладку Payloads и установите тип полезной нагрузки на Simple list и выберите предпочитаемый вами список слов. В этой демонстрации мы будем использовать 500-worst-passwords.txt из SecLists. Если вы используете AttackBox, вы можете использовать тот же список слов, расположенный по адресу  /usr/share/wordlists/SecLists/Passwords/Common-Credentials/500-worst-passwords.txt.

Выбор списка слов

Поскольку заголовок закодирован в base64, нам нужно добавить два правила в раздел обработки полезной нагрузки. Первое автоматически добавляет имя пользователя к паролю, поэтому вместо 123456 полезная нагрузка будет "admin:123456".

Первое правило обработки полезной нагрузки

Второе правило закодирует объединенное имя пользователя и пароль из предоставленного списка с помощью base64.

Второе правило обработки полезной нагрузки

Также следует удалить символ "=" (знак равенства) из кодировки, поскольку base64 использует "=" для заполнения. Для этого прокрутите вниз и удалите знак "=" из списка символов в разделе Кодировка полезной нагрузки.

Удаление знака равенства из-за заполнения

После этого вернитесь на вкладку Positions и нажмите кнопку Start Attack. Атака займет чуть меньше 2 минут.

Начало атаки

Как только вы получите код статуса 200, это будет означать, что брутфорс прошел успешно, и один из паролей в предоставленном списке работает. Расшифруйте закодированную строку base64 в успешном запросе.

Расшифровка полезной нагрузки успешного запроса

Декодированное значение строки base64

Используйте декодированную строку base64 для входа в приложение.

Использование учетных данных для входа в систему

Флаг на панели управления

### Ответьте на вопросы ниже
Что такое флаг?
```commandline
THM{b4$$1C_AuTTHHH}
```
Попробуйте использовать Hydra вместо Burp для подбора пароля.
```commandline
Ответ не нужен
```
## Задание 6
Wayback URL и Google Dorks
Изучение прошлого веб-приложения может оказаться столь же познавательным, как и изучение его настоящего:

URL-адреса обратного пути

Представьте себе Wayback Machine ( https://archive.org/web/ ) Internet Archive как машину времени. Она позволяет вам путешествовать назад и исследовать старые версии веб-сайтов, обнаруживая файлы и каталоги, которые больше не видны, но все еще могут оставаться на сервере. Эти реликвии иногда могут стать бэкдором прямо в нынешнюю систему.

Домашняя страница waybackmachine

Например, используя TryHackMe в качестве цели, мы можем увидеть все прошлые версии веб-сайта с 2018 года по настоящее время.

Записанные данные веб-сайта

Чтобы выгрузить все ссылки, сохраненные в Wayback Machine, мы можем использовать инструмент waybackurls. Размещенный на GitHub , мы можем легко установить его на нашей машине, используя следующие команды:

Примечание: Установка этого инструмента выходит за рамки этой комнаты. Также рекомендуется установить этот инструмент, используя собственную виртуальную машину .

Установить waybackurls

```
user@tryhackme $ git clone https://github.com/tomnomnom/waybackurls
user@tryhackme $ cd waybackurls
user@tryhackme $ sudo apt install golang-go -y # This command is optional
user@tryhackme $ go build
user@tryhackme $ ls -lah
total 6.6M
drwxr-xr-x 4 user user 4.0K Jul  1 18:20 .
drwxr-xr-x 9 user user 4.0K Jul  1 18:20 ..
drwxr-xr-x 8 user user 4.0K Jul  1 18:20 .git
-rw-r--r-- 1 user user   36 Jul  1 18:20 .gitignore
-rw-r--r-- 1 user user  454 Jul  1 18:20 README.mkd
-rw-r--r-- 1 user user   49 Jul  1 18:20 go.mod
-rw-r--r-- 1 user user 5.4K Jul  1 18:20 main.go
drwxr-xr-x 2 user user 4.0K Jul  1 18:20 script
-rwxr-xr-x 1 user user 6.5M Jul  1 18:20 waybackurls
user@tryhackme $ ./waybackurls tryhackme.com
[-- snip --]
https://tryhackme.com/.well-known/ai-plugin.json
https://tryhackme.com/.well-known/assetlinks.json
https://tryhackme.com/.well-known/dnt-policy.txt
https://tryhackme.com/.well-known/gpc.json
https://tryhackme.com/.well-known/nodeinfo
https://tryhackme.com/.well-known/openid-configuration
https://tryhackme.com/.well-known/security.txt
https://tryhackme.com/.well-known/trust.txt
[-- snip --]
```
Google Дорки

Вот где блистает ваша смекалка в поисковых системах. Создавая специальные поисковые запросы, известные как Google Dorks, вы можете найти информацию, которая не должна была быть публичной. Эти запросы могут вытащить все, от открытых административных каталогов до журналов, содержащих пароли и индексы конфиденциальных каталогов. Например:

Чтобы найти административные панели:site:example.com inurl:admin
Чтобы извлечь файлы журналов с паролями:filetype:log "password" site:example.com
Чтобы обнаружить резервные каталоги:intitle:"index of" "backup" site:example.com
### Ответьте на вопросы ниже
```commandline
Ответ не нужен
```

## Задание 7
Заключение
В этом зале мы рассмотрели различные аспекты атак методом подбора и грубой силы на веб-приложения, вооружив вас знаниями и практическими навыками, необходимыми для проведения тщательной оценки безопасности.

Ключевые выводы
Эффективный подсчет : правильный подсчет имеет решающее значение для выявления потенциальных уязвимостей в веб-приложениях. Использование правильных инструментов и методов может раскрыть ценную информацию, которая поможет в планировании дальнейших атак.
Эффективность атак методом перебора : оптимизация атак методом перебора подразумевает создание интеллектуальных списков слов, управление параметрами атаки и избежание механизмов обнаружения, таких как ограничение скорости и блокировка учетной записи.
Этическая ответственность : Всегда проводите атаки методом перечисления и грубой силы с явного разрешения владельца системы. Несанкционированные атаки являются незаконными и могут иметь серьезные последствия.
### Ответьте на вопросы ниже
Теперь я могу атаковать формы аутентификации!
```commandline
Ответ не нужен
```

[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)