[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [AttackerKB](https://tryhackme.com/r/room/attackerkb) 

Всего 5 заданий:
## Задание 1
Вы когда-нибудь узнавали о новой уязвимости в Twitter или находили что-то странное при осмотре ящика? Больше не 
бойтесь, AttackerKB здесь, чтобы разобраться во всем этом! В этой комнате мы рассмотрим, как мы можем использовать 
AttackerKB и как атакующий, и как защитник, чтобы получить более глубокое представление о постоянно меняющемся 
ландшафте уязвимостей.   


Автономную версию виртуальной машины, используемой в этой комнате, можно найти в этой комнате.  Кроме того, вы 
можете загрузить OVA Source для использования в автономном режиме с https://www.darkstar7471.com/resources.html 

### Ответьте на вопросы ниже
Прочитайте вышеизложенное и переходите к заданию два!

```commandline
Ответ не нужен
```

## Задание 2
В этой конкретной задаче мы начнем с точки зрения злоумышленника в оценке черного ящика. Начните с развертывания и 
сканирования ящика, чтобы обнаружить, что было установлено.  

Фото Павла Червинского на Unsplash

### Ответьте на вопросы ниже
Разверните виртуальную машину, прикрепленную к этой задаче. Этот период развертывания займет около двух минут максимум.
```commandline
Ответ не нужен
```
Просканируйте машину с помощью Nmap. Какая нестандартная служба может быть запущена на высоком порту?
```commandline
Webmin
```
Далее перечислите эту службу, какая ее версия запущена?
```commandline
1.890
```
Посетите веб-страницу, созданную этой службой. Вы должны столкнуться с ошибкой из-за наличия SSL. Измените URL-адрес 
на HTTPS и проигнорируйте исключение. После этого просмотрите сертификат. Какое имя хоста мы можем найти в сведениях 
о сертификате? В Firefox вы можете просмотреть это, нажав на «i» в URL-адресе, затем на «>» в Connection, «More 
Information» и затем на «View Certificate» на вкладке Security.   
```commandline
source
```
Измените файл /etc/hosts соответствующим образом, включив в него новое обнаруженное имя хоста, и повторно посетите 
нужную веб-страницу. Обратите внимание, что это подтвердит, что служба, которую мы ранее обнаружили с помощью Nmap, 
верна. После того, как вы это сделаете, переходите к задаче три.
```commandline
Ответ не нужен
```

## Задание 3
Теперь, когда мы обнаружили странную службу, работающую на нашей цели, давайте перейдем к дальнейшему исследованию, 
чтобы обнаружить возможные эксплойты и то, насколько они могут быть полезны для AttackerKB. 


### Ответьте на вопросы ниже
Сначала давайте перейдем к AttackerKB ! Для наших целей будем считать AttackerKB похожим на Exploit-DB, но с более 
высоким уровнем информации об уязвимостях и связанных с ними эксплойтах.   


Панель управления AKB на момент написания статьи. Обратите внимание, что нам не нужно будет входить в систему для 
того, что мы делаем. При этом вход в систему (через GitHub OAuth) позволяет нам публиковать и участвовать в 
обсуждениях, связанных с уязвимостями.  
```commandline
Ответ не нужен
```
AKB позволяет нам искать различные уязвимости через строку поиска в правом верхнем углу сайта. Найдите сейчас 
'Webmin' и нажмите на 'password_change.cgi' 
```commandline
Ответ не нужен
```
Ознакомьтесь с оценками этой уязвимости. Как злоумышленник, мы можем использовать информацию, размещенную здесь 
другими участниками, чтобы определить, насколько ценным может быть эксплойт, и какие изменения нам, возможно, 
придется внести для эксплуатации кода. Аналогично, как защитник, мы можем использовать эти комментарии, чтобы 
получить дополнительную ситуативную информацию об уязвимостях, что позволит нам оценить, как быстро нам нужно их 
исправить. Какая версия Webmin немедленно уязвима для этого эксплойта?    
```commandline
1.890
```
Какой тип атаки это был? Обратите внимание, мы ищем, как это было добавлено в код для Webmin, а не как это приводит 
к удаленному выполнению кода (RCE). 
```commandline
Supply Chain
```
Можете ли вы найти ссылку на пост на сайте webmin, объясняющий, что произошло? В какой день Webmin был 
проинформирован об эксплойте 0day? 
```commandline
August 17th 2019
```
И последнее, но не менее важное: давайте найдем ссылку на наш эксплойт. Мы можем видеть в Оценках, что для этого 
бэкдора был добавлен модуль Metasploit. В каком номере pull это было добавлено? 
```commandline
12219
```
Как только вы обнаружите уязвимость, давайте перейдем к четвертой задаче!
```commandline
Ответ не нужен
```

## Задание 4
Теперь, когда мы получили некоторое представление об уязвимости и связанном с ней эксплойте, который мы обнаружили, давайте вернемся к области действия злоумышленника.  В этой задаче мы будем использовать Metasploit . Если у вас возникли какие-либо трудности, я предлагаю проверить комнату RP: Metasploit  

### Ответьте на вопросы ниже
Запустите Metasploit сейчас, так как мы будем использовать модуль Metasploit для этого эксплойта. 
```commandline
Ответ не нужен
```
Открыв Metasploit, найдите и выберите эксплойт, который мы ранее исследовали.
```commandline
Ответ не нужен
```
Теперь, когда мы выбрали наш эксплойт, установите предоставленные опции соответствующим образом. Помимо RHOSTS и LHOST, какую третью опцию мы должны установить на 'True'?
```commandline
ssl
```
Запустить эксплойт. Какой флаг пользователя?
```commandline
THM{SUPPLY_CHAIN_COMPROMISE}
```
А как насчет корневого флага?
```commandline
THM{UPDATE_YOUR_INSTALL}
```
Как только вы завершите получение корневого флага, переходите к пятому и последнему заданию.
```commandline
Ответ не нужен
```

## Задание 5
Хотите получить еще больше от AttackerKB? Ознакомьтесь с AKB Explorer от Horshark ! Написанный на Python, AKB 
Explorer предоставляет схожую функциональность Searchsploit, расширенную для охвата функций AKB. Используя этот 
инструмент, вы можете искать сообщения по имени, CVE и имени пользователя! Ознакомьтесь с ним здесь: Ссылка  

Фото Мейинг Нг на Unsplash

### Ответьте на вопросы ниже
Прочитайте вышеизложенное и продолжайте учиться!
```commandline
Ответ не нужен
```

[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)