[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)

# Комната [SSDLC](https://tryhackme.com/r/room/securesdlc) 

Всего 9 заданий:
## Задание 1
Введение

В этом зале основное внимание уделяется жизненному циклу безопасной разработки программного обеспечения (S- SDLC ), 
его процессам и методологиям.

Цели обучения
- Поймите, что такое SSDLC и почему это важно
- Узнайте о процессах SSDLC
- Понять методологии Secure SDLC

### Ответьте на вопросы ниже
Давайте возьмем этот хлеб
```commandline
Ответ не нужен
```

## Задание 2
Безопасный жизненный цикл разработки программного обеспечения ( SSDLC )

Во время SDLC тестирование безопасности было введено очень поздно в жизненном цикле. Ошибки, изъяны и другие 
уязвимости были обнаружены поздно, что сделало их исправление гораздо более дорогим и трудоемким. В большинстве 
случаев тестирование безопасности не рассматривалось на этапе тестирования, поэтому конечные пользователи сообщали 
об ошибках после развертывания. Безопасные модели SDLC направлены на внедрение безопасности на каждом этапе SDLC.

Почему важен безопасный SDLC ?

Исследование, проведенное Институтом систем и наук IBM, показало, что исправление ошибки, обнаруженной во время 
внедрения, обходится в шесть раз дороже, чем исправление ошибки, выявленной еще на этапе проектирования. Также 
сообщается, что исправление ошибки обходится в 15 раз дороже, если она обнаружена во время тестирования, и в 100 раз 
дороже, если она обнаружена на этапах обслуживания и эксплуатации. Смотрите рисунок ниже:

диаграмма, показывающая относительную стоимость исправления ошибок

Источник: Исследовательскую работу о стоимости выявления уязвимостей можно найти здесь.

Помимо более быстрой разработки и сокращения затрат, интеграция безопасности в SDLC помогает обнаруживать и 
сокращать уязвимости на ранних этапах, значительно снижая бизнес-риски. Примерами внедрения безопасности на всех 
этапах являются анализ архитектуры во время проектирования, обзор кода и сканеры на этапе разработки и проведение 
оценок безопасности (например, тестов на проникновение) перед развертыванием. Например, в каскадных моделях такое 
тестирование проводилось в конце жизненного цикла, прямо перед производством; в более гибких процессах мы можем 
реализовать подход «безопасность по проекту». Если пентесты приводят к ошибкам, таким как SQL- инъекция в каскадном 
сценарии, смягчение ошибок повлечет за собой выполнение еще одного цикла для исправления ошибки. Это потребует 
перепроектирования, применения изменений и повторного тестирования для проверки того, что она была исправлена. При 
более гибком подходе обсуждения о том, следует ли предотвращать такие недостатки, как принятие решения о 
параметризации на этапе планирования, могут помочь избежать необходимости откатывать изменения, и это стоит только 
обсуждения планирования.

Краткое содержание
- Безопасность является постоянной заботой, поэтому качество и безопасность программного обеспечения постоянно улучшаются.
- Повышение уровня образования и осведомленности в области безопасности: все заинтересованные стороны знают 
  рекомендации и требования по безопасности на каждом этапе.
- Недостатки обнаруживаются еще до развертывания, что снижает риск взлома или сбоя.
- Расходы сокращаются, а скорость увеличивается благодаря раннему обнаружению и устранению уязвимостей. 
  Предотвращаются бизнес-риски, ущерб репутации бренда и штрафы, которые могут привести к экономической катастрофе для компании.
### Ответьте на вопросы ниже
Насколько дороже обходится выявление уязвимостей на этапе тестирования?
```commandline
15
```

## Задание 3
#### Внедрение SSDLC
Как показывает комната Intro To DevSecOps, Secure SDLC включает внедрение процессов безопасности на всех этапах 
жизненного цикла. От инструментов тестирования безопасности до написания требований безопасности наряду с 
функциональными требованиями.

Понимание состояния безопасности

Как и в случае с каждым новым процессом, понимание ваших пробелов и состояния имеет решающее значение для успешного 
внедрения нового инструмента, решения или изменения.  Чтобы понять, какова ваша позиция безопасности, вы можете 
начать со следующего:
- Проведите анализ пробелов, чтобы определить, какие действия и политики существуют в вашей организации и насколько 
  они эффективны. Например, обеспечение наличия политик (что делает команда) с процедурами безопасности (как команда 
  реализует эти политики).
- Создавайте инициативы по безопасности программного обеспечения (SSI), устанавливая реалистичные и достижимые цели с 
  определенными метриками для успеха. Например, это может быть стандарт безопасного кодирования, сценарии обработки 
  данных и т. д., отслеживаемые с помощью инструментов управления проектами.
- Формализуйте процессы для мероприятий по безопасности в рамках вашего SSI. После запуска программы или стандарта 
  важно провести операционный период, помогая инженерам ознакомиться с ней и собрать отзывы, прежде чем применять ее.
  При выполнении анализа пробелов каждая политика должна иметь определенные процедуры, чтобы сделать ее эффективной. 
- Инвестируйте в обучение по безопасности для инженеров, а также в соответствующие инструменты. Убедитесь, что люди 
  знают о новых процессах и инструментах, которые придут с ними для их эксплуатации, и инвестируйте в обучение на 
  ранних этапах, в идеале до внедрения/внедрения инструмента.

#### Процессы SSDLC

После понимания вашей позиции безопасности, сейчас самое время расставить приоритеты и внедрить безопасность в ваш 
SDLC. В общем, безопасный SDLC включает в себя интеграцию таких процессов, как тестирование безопасности и другие 
виды деятельности, в существующий процесс разработки. Примерами являются написание требований безопасности наряду с 
функциональными требованиями и выполнение анализа рисков архитектуры на этапе проектирования SDLC. Эти процессы 
следующие:

Матрица риска 

- Оценка риска - на ранних этапах SDLC важно определить соображения безопасности, которые способствуют подходу 
безопасности по проектированию, когда функциональные требования собираются на этапах планирования и требований. Например, если пользователь запрашивает запись в блоге с сайта, пользователь не должен иметь возможности редактировать блог или удалять ненужные поля ввода.
- Моделирование угроз — это процесс выявления потенциальных угроз при отсутствии соответствующих мер безопасности. Он 
  очень эффективен при оценке рисков и на этапе проектирования SDLC , поскольку моделирование угроз фокусируется на том, чего не должно происходить. Напротив, требования к проектированию определяют, как программное обеспечение будет себя вести и взаимодействовать. Например, убедитесь, что есть проверка, когда пользователь запрашивает информацию об учетной записи.
- Сканирование кода / Обзор - Обзоры кода могут быть как ручными, так и автоматизированными. Сканирование кода или 
  автоматизированные обзоры кода могут использовать технологии статического и динамического тестирования безопасности. Они имеют решающее значение на этапах разработки, когда код пишется.
- Оценки безопасности - как и тестирование на проникновение и оценка уязвимости  - это форма автоматизированного 
  тестирования, которая может определить критические пути приложения, которые могут привести к эксплуатации 
  уязвимости. Однако они являются гипотетическими, поскольку оценка не содержит моделирования этих атак. С другой 
  стороны, пентестинг выявляет эти недостатки и пытается использовать их для демонстрации обоснованности. Пентесты и 
  оценки уязвимости проводятся на этапе эксплуатации и обслуживания SDLC после прототипа приложения.

Существуют методологии применения процессов в задаче 5, которые помогут вам ориентироваться и будут направлять вас 
при внедрении оценки рисков, моделирования угроз, сканирования и тестирования, а также эксплуатационного обеспечения.
Следующие задачи будут охватывать эти процессы более подробно.

### Ответьте на вопросы ниже
Что следует понимать перед внедрением процессов Secure SDLC?
```commandline
Security Posture
```
На каких этапах следует проводить оценку рисков?
```commandline
Planning and Requirements
```
Что необходимо сделать на этапе проектирования?
```commandline
Threat Modelling
```

## Задание 4
#### Оценка риска

Риск относится к вероятности использования угрозы, что негативно скажется на ресурсе или цели, на которую она влияет.
Например, уязвимости, используемые после публикации новой версии программного обеспечения, недостатки дизайна и 
плохо проверенный код могут увеличить риск этих сценариев. Управление рисками является важным столпом для интеграции 
в SDLC для снижения риска в продукте или услуге.

Оценка риска используется для определения уровня потенциальной угрозы. Риск, выявленный в процессе оценки риска, 
может быть уменьшен или устранен путем применения соответствующих элементов управления в процессе смягчения риска. 
Обычно за оценкой риска следует моделирование угроз, которое будет объяснено подробнее в следующем разделе.

#### Проведение оценки риска

- Первый шаг в процессе оценки риска — предположить, что программное обеспечение будет атаковано, и рассмотреть 
факторы, мотивирующие субъекта угрозы. Перечислите такие факторы, как ценность данных программы, уровень безопасности компаний, предоставляющих ресурсы, от которых зависит код, клиенты, покупающие программное обеспечение, и насколько широко распространено программное обеспечение (отдельное, небольшая рабочая группа или выпущено по всему миру). Основываясь на этих факторах, запишите приемлемый уровень риска. Например, потеря данных может привести к потере компанией миллионов, особенно если в настоящее время им необходимо платить штрафы в соответствии с GDPR, но устранение всех потенциальных ошибок безопасности в коде может стоить 40 000 долларов. Компания и некоторые другие группы заинтересованных сторон должны решить, стоит ли это того; также важно сообщить об этих компромиссах. Следовательно, каждый должен понимать риск и его последствия. С точки зрения репутации бренда, если атака наносит ущерб имиджу компании, в долгосрочной перспективе это обходится компании дороже, чем исправление кода.
- Следующий шаг — оценка риска. Включите такие факторы, как наихудший сценарий, если злоумышленник успешно атаковал 
  программное обеспечение. Вы можете продемонстрировать наихудший сценарий руководителям и старшим инженерам, смоделировав атаку с использованием программ-вымогателей. Определите ценность данных, которые будут украдены, ценных данных, таких как личность пользователя, учетные данные для получения контроля над конечными точками в сети, а также данные или активы, которые представляют меньший риск. Другим фактором, который следует учитывать, является сложность проведения успешной атаки, другими словами, ее сложность. Например, если злоумышленник может получить доступ к инструменту компании для предоставления обратной связи коллегам или проведения ретроспективных совещаний, это окажет меньшее воздействие, чем доступ к системе мониторинга и оповещений производственной среды. Высокий уровень риска будет неприемлемым, и лучше всего его снизить. Например, уязвимость может быть использована любым, кто запускает заранее написанные сценарии атаки или использует ботнеты для распространения сценариев с целью взлома компьютеров и сетей. Пострадавшие пользователи являются жизненно важным фактором.
- Некоторые атаки затрагивают только одного или двух пользователей, но атака типа «отказ в обслуживании» затронет 
  тысячи пользователей, когда сервер подвергается атаке. Более того, тысячи компьютеров могут быть заражены распространением червей. Последний фактор — это доступность цели. Определите, принимает ли цель запросы по сети или только локальный доступ, требуется ли аутентификация для установления соединения или может ли кто-либо отправлять запросы. Это оказывает большее воздействие, если злоумышленник получает доступ к производственной среде, а не к среде песочницы, используемой на локальных игровых площадках для людей, выполняющих лабораторные работы или обучающие материалы.
#### Типы оценки риска

Существует несколько типов оценки риска, наиболее подходящих для различных сценариев. Ниже приведены различные типы 
оценки риска: 

- Качественная оценка риска - Это наиболее распространенный тип оценки риска, который вы найдете в компаниях 
  (надеюсь). Цель качественной оценки риска — оценить и классифицировать риск по пороговым значениям, таким как 
  «Низкий», «Средний» и «Высокий». Она систематически изучает, что может причинить вред, и какие решения следует 
  принять для определения или улучшения адекватных мер контроля. Как и все типы оценок риска, каждый уровень имеет 
  приоритет, где «Высокий» имеет наибольшую срочность. Несмотря на то, что качественные оценки риска не используют 
  числа, типичная формула для оценки качественного риска выглядит следующим образом:
`Risk = Severity x Likelihood`
«Серьезность» — это влияние последствия, а «Вероятность» — это вероятность того, что оно произойдет. Оценивать эти 
  обстоятельства должен оценщик риска. 
- Количественная оценка риска - Количественная оценка риска используется для измерения риска с помощью числовых 
  значений. Вместо «Низкий», «Средний» и «Высокий» у вас будут числа, представляющие эти диапазоны. При проведении 
  количественного анализа риска мы можем использовать инструменты для определения серьезности и вероятности или 
  пользовательские серии расчетов на основе процессов компании.

Например, предположим, что есть сервисы с назначенными уровнями критичности для бизнеса. В этом случае вы можете сказать, что если ошибка влияет на критически важный для бизнеса сервис (сервис аутентификации, платежная инфраструктура и т. д.), вы назначаете 5 баллов. Это подчеркивает, почему жизненно важно понимать состояние безопасности и его процессы. Измерение риска и приоритета с помощью эндемического уравнения для сервисов компании даст отличные результаты. Пример матрицы количественной оценки риска можно увидеть ниже:


#### Матрица риска

Оценки рисков лучше проводить в начале SDLC, на этапах планирования и требований. Например, «Данные клиентов 
украдены в результате атаки». После разработки системы можно выполнить количественный анализ рисков: «Один клиент 
может подать на нас в суд на 20 000 долларов, если его данные будут украдены», а у нас 100 клиентов. Однако годовой 
показатель вероятности возникновения (ARO) составляет 0,001. Следовательно, ожидаемые годовые потери составляют = 20 
000 долларов * 100 * 0,001 = 2 000 долларов, что означает, что пока наш компенсирующий контроль безопасности 
составляет менее 2 000 долларов, мы не перерасходуем средства на безопасность.

### Ответьте на вопросы ниже
Какова формула для присвоения качественного уровня риска?
```commandline
Severity x Likelihood
```
Какой тип оценки риска присваивает числовые значения для определения риска?
```commandline
Quantitative Risk Assessment
```

## Задание 5
#### Моделирование угроз
Моделирование угроз лучше всего интегрировать в фазу проектирования SDLC до написания кода. Моделирование угроз — 
это структурированный процесс выявления потенциальных угроз безопасности и определения приоритетов методов смягчения 
атак, чтобы защитить данные или активы, которые были классифицированы как ценные или имеющие более высокий риск во 
время оценки риска, например конфиденциальные данные. При раннем выполнении это дает большое преимущество: 
потенциальные проблемы можно обнаружить и решить на ранней стадии, что позволяет сэкономить затраты на исправление в 
дальнейшем.      


Существуют различные методы моделирования угроз. Не все методы имеют одну и ту же цель; некоторые фокусируются на 
рисках или проблемах конфиденциальности, в то время как некоторые больше ориентированы на клиента. Мы можем 
комбинировать эти методы, чтобы лучше понять потенциальные угрозы; важно проанализировать, какой способ больше 
соответствует проекту или бизнесу. `STRIDE`, `DREAD` и `PASTA` являются одними из распространенных методологий 
моделирования угроз.

### STRIDE

**STRIDE** означает `Spoofing`, `Tampering`, `Repudiation`, `Information Disclosure`, `Denial Of Service` и 
`Elevation/Escalation of Privilege` (Подмена, Вмешательство, Отказ, Раскрытие информации, Отказ в обслуживании,
Повышение/эскалация привилегий). STRIDE — это широко используемая модель угроз, разработанная Microsoft, 
которая оценивает конструкцию 
системы в более подробном виде. Мы можем использовать STRIDE для выявления угроз, включая свойство, нарушенное 
угрозой, и определение. Диаграмма потока данных системы должна быть разработана в этой модели, и каждый узел 
применяется с моделью STRIDE. Выявление угроз безопасности — это ручной процесс, который не поддерживается 
инструментами и должен выполняться во время оценки рисков. Используя диаграммы потока данных и интегрируя STRIDE, 
системные сущности, поверхности атак, такие как известные границы и события злоумышленников, становятся более 
идентифицируемыми. Stride означает Spoofing Identity, Tampering with Data, Repudiation, Information Disclosure, D 
enial of Service, Elevation of Privilege. STRIDE построен на триадном принципе CIA - Confidentiality, Integrity, and 
Availability (Конфиденциальность, Целостность и Доступность). Специалисты по безопасности, которые реализуют STRIDE, 
ищут ответ на вопрос «Что может пойти не так с этой системой». Вот компоненты структуры:

1. `Spoofing` (Подмена): это акт выдачи себя за пользователя злоумышленником, который нарушает принцип аутентификации 
  с точки зрения триады CIA. Распространенные способы включают в себя ARP, IP и DNS -спуфинг.

2. `Tampering` (Подделка или Вмешательство): Изменение информации неавторизованным пользователем. Нарушает принцип 
   целостности триады CIA.

3. `Repudiation` (Отказ): Не брать на себя ответственность за события, действия которых не приписываются 
   злоумышленнику. Это нарушает принцип неотказуемости. Например, злоумышленник очищает все журналы, которые могут 
   привести к оставлению следов.

4. `Information Disclosure` (Раскрытие информации): Это акт нарушения конфиденциальности триады CIA. Типичный пример
 — утечка данных.

5. `Denial Of Service` (Отказ в обслуживании происходит): когда авторизованный пользователь не может получить доступ к 
услуге, активам или системе из-за исчерпания сетевых ресурсов. DoS является нарушением принципа доступности триады CIA. 

6. `Elevation/Escalation of Privilege` (повышение привилегий): с целью получения несанкционированного доступа является 
классическим примером нарушения принципа авторизации триады CIA.

### DREAD

Аббревиатура **DREAD** обозначает пять вопросов о каждом потенциале: Damage Potential, Reproducibility, 
Exploitability, Affected Users and Discoverability (потенциальный ущерб, воспроизводимость, 
эксплуатируемость, затронутые пользователи и обнаруживаемость). DREAD также является методологией, созданной 
Microsoft, которая может быть дополнением к модели STRIDE. Это модель, которая ранжирует угрозы, назначая 
идентифицированные угрозы в соответствии с их серьезностью и приоритетом. Другими словами, она создает систему 
рейтинга, которая оценивается на основе вероятности риска. Без STRIDE модель DREAD также может использоваться для 
оценки, анализа и поиска вероятности риска по рейтингу угрозы. Вот компоненты структуры:


1. `Damage Potential` (Ущерб): относится к возможному ущербу, который угроза может нанести существующей инфраструктуре 
   или активам. Он основан на шкале от 0 до 10. Оценка 0 означает отсутствие вреда, 5 означает раскрытие информации, 8 означает, что 
данные пользователя скомпрометированы, 9 означает, что внутренние или административные данные скомпрометированы, а 
10 означает недоступность сервиса.

2. `Reproducibility` (Воспроизводимость): измеряет сложность атаки. То есть насколько легко хакер может воспроизвести 
   угрозу. Оценка 0 означает, что ее практически невозможно скопировать, 5 означает, что это сложно, но возможно, 7,5 — для 
аутентифицированного пользователя, а оценка 10 означает, что злоумышленник может очень быстро воспроизвести ее без 
какой-либо аутентификации.

3. `Exploitability` (Эксплуатируемость): Относится к сложности атаки или к тому, насколько легко ее запустить. Оценка 2,
   5 означает, что для этого потребуются продвинутые навыки работы с сетями и программирования; оценка 5 означает, что уязвимость может 
быть эксплуатирована с помощью доступных инструментов, оценка 9 означает, что нам понадобится простой инструмент 
прокси-сервера веб-приложения, а оценка 10 означает, что уязвимость может эксплуатироваться через веб-браузер.

4. `Affected Users` (Пострадавшие пользователи): описывает количество пользователей, пострадавших от успешной 
   эксплуатации уязвимости. 
Оценка 0 будет означать, что не будет затронутых пользователей, 2,5 будет означать отдельного пользователя, 6 будет 
означать небольшую группу пользователей, 9 будет означать значительных пользователей, таких как административные 
пользователи, а 10 будет означать, что затронуты все пользователи.

5. `Discoverability` (Обнаруживаемость): процесс обнаружения уязвимых мест в системе. Например, угроза будет легко 
   обнаружена в случае компрометации. Оценка 0 означает, что ее будет сложно обнаружить, оценка 5 означает, что 
   угрозу можно обнаружить путем анализа HTTP-запросов, а 8 означает, что ее можно легко обнаружить, поскольку она 
   общедоступна. Оценка 10 означает, что она видна в адресной строке браузера.

### PASTA

**PASTA** — это сокращение от `Process` for `Attack` `Simulation` and `Threat` `Analysis` (Процесс моделирования атак и 
анализа угроз); это ориентированная на риск структура моделирования угроз. PASTA фокусируется на согласовании 
технических требований с бизнес-целями. PASTA включает в себя процесс моделирования угроз от анализа угроз до поиска 
способов их смягчения, но на более стратегическом уровне и с точки зрения злоумышленника. Он идентифицирует угрозы, 
перечисляет их, а затем присваивает им оценку. Это помогает организациям находить подходящие контрмеры для смягчения 
угроз безопасности. PASTA делится на семь этапов:

1. Define Objectives (Определение целей): Первый этап фокусируется на отметке структуры и определении целей. Это 
   делает конечную цель намного яснее и обеспечивает моделирование угроз для соответствующих активов путем 
   определения области действия активов.

2. Define Technical Scope (Определить техническую область): Здесь определяются архитектурные диаграммы, как логическая,
   так и физическая инфраструктура. Полезно для отображения поверхности атаки и зависимостей от среды.

3. Decomposition & Analysis (Декомпозиция и анализ): каждый актив будет иметь определенную границу доверия, которая 
   охватывает все его компоненты и данные на этом этапе. Например, отображение векторов угроз для платежного сервиса и оценка того, какие компоненты, 
   лежащие в основе сервиса, могут быть использованы для атаки; компоненты могут быть библиотеками, зависимостями, 
   модулями или базовыми сервисами и т. д.

4. Threat Analysis (Анализ угроз): это относится к извлеченной информации, полученной из разведки угроз. Полезно для 
   определения того, какие приложения уязвимы для определенных векторов; например, клиентское/публичное приложение может быть подвержено 
   DDOS, несанкционированному изменению данных и т. д.

5. Vulnerabilities & Weaknesses Analysis (Анализ уязвимостей и слабых мест): анализирует уязвимости элементов 
   управления безопасностью веб-приложений. 
Выявляет недостатки безопасности в приложении и перечисляет уязвимости. Настоятельно рекомендуется добавить 
   смягчение выявленной угрозы на этом этапе. Например, при описании прошлого инцидента, связанного с эксплойтом 
   почтового сервера, извлеченные уроки или смягчение: отсутствие тщательного тестирования перед внедрением и 
   укреплением сервера.

6. Attack/Exploit Enumeration & Modelling (Перечисление и моделирование атак/эксплойтов): на этом этапе мы составляем 
   карту возможного ландшафта угроз и всей поверхности атаки нашего веб-приложения. Затем мы сопоставляем все потенциальные векторы атак с различными узлами, 
   определяя эксплойты и пути атак. На этом этапе моделируется вся перечисленная информация, извлеченная из всех 
   предыдущих шагов; это помогает специалистам по безопасности определить степень и вероятность успешного запуска 
   выявленных уязвимостей.

Анализ воздействия рисков: на основе совокупных данных с предыдущих этапов анализируются все затронутые активы, и, 
наконец, на основе анализа рисков документируются рекомендуемые шаги по снижению рисков и устранению всех остаточных 
рисков.

### Ответьте на вопросы ниже
Какая методология моделирования угроз присваивает рейтинговую систему на основе вероятности риска?
```commandline
DREAD
```
Какая методология моделирования угроз основана на триаде CIA?
```commandline
STRIDE
```
Какая методология моделирования угроз помогает согласовать технические требования с бизнес-целями?
```commandline
PASTA
```
## Задание 6
Безопасный обзор и анализ кода

Согласно исследованию, проведенному Verizon в 2020 году по утечкам данных, 43% нарушений были атаками на 
веб-приложения, в то время как некоторые другие нарушения безопасности были вызваны некоторыми уязвимостями в 
веб-приложениях. Реализация безопасного обзора кода на этапах SDLC , особенно на этапе внедрения, повысит 
устойчивость и безопасность продукта без дополнительных затрат на будущие исправления. Безопасный обзор кода 
определяется как мера, при которой сам код проверяется и подтверждается, чтобы гарантировать, что обнаруженные 
уязвимости могут быть смягчены и удалены, чтобы избежать уязвимостей и недостатков. Осведомленность разработчиков и 
их активность в проверке кода во время разработки может привести к более быстрому реагированию на смягчение и 
меньшему количеству неконтролируемых угроз. Проверка кода является важным шагом в SDLC для разработчиков. Она 
предотвращает любые неудачи при выпуске и проблемы, с которыми сталкиваются пользователи. Как показано в предыдущей 
задаче SSDLC , стоимость самого проекта и затраченных усилий пропорциональна и дешевле в долгосрочной перспективе, 
чем стоимость применения проверок и анализа кода. Внедряя этот подход, организация также будет соответствовать 
стандартам, установленным государственными органами и сертификациями.


Обзор кода может быть выполнен вручную или автоматически. Ручной обзор кода — это когда эксперт анализирует и 
проверяет исходный код, проходя по строкам, чтобы выявить уязвимости. Поэтому высококачественный ручной обзор кода 
требует, чтобы эксперт общался с разработчиками программного обеспечения, чтобы понять цель и функциональные 
возможности приложения. Результаты анализа затем будут сообщены разработчикам, если возникнет необходимость в 
исправлении ошибок.


### Анализ кода

Статический анализ проверяет исходный код без выполнения программы. В отличие от этого, динамический анализ смотрит 
на исходный код

код при запуске программы, статический анализ обнаруживает ошибки на уровне реализации, а динамический анализ 
обнаруживает ошибки во время выполнения программы. Автоматизированное статическое тестирование безопасности 
приложений ( SAST ) автоматически анализирует и проверяет исходный код.

#### SAST

SAST означает статическое тестирование безопасности приложений — метод тестирования по принципу «белого ящика», 
который напрямую анализирует исходный код.

Многие стремятся разработать приложение, которое могло бы автоматизировать или быстро выполнять процессы, а также 
повысить производительность и удобство использования, при этом забывая о негативном влиянии, которое может оказать 
приложение, не имеющее достаточной безопасности.

Почему он статический?  - Потому что тест выполняется до того, как приложение будет запущено и запущено. SAST может 
даже помочь обнаружить уязвимости в вашем приложении до того, как код будет объединен или интегрирован в программное 
обеспечение, если он добавлен как часть фазы разработки SDLC.

#### Как работает SAST

SAST использует методологию тестирования, анализируя исходный код, чтобы обнаружить любые следы уязвимостей, которые 
могут предоставить бэкдор для злоумышленника. SAST обычно анализирует и сканирует приложение до компиляции кода.

Процесс SAST также известен как тестирование методом белого ящика. После обнаружения уязвимости следующим действием 
является проверка кода и исправление кода до его компиляции и развертывания в реальном времени.  Тестирование 
методом белого ящика — это подход или метод, который тестировщики используют для тестирования внутренней структуры 
программного обеспечения и просмотра того, как оно интегрируется с внешними системами.

#### SCA

Подводя итог, SAST используется для сканирования исходного кода на предмет уязвимостей безопасности. Другой тип 
тестирования идет рука об руку с SAST, Software Composition Analysis (SCA). SCA используется для сканирования 
зависимостей на предмет уязвимостей безопасности, помогая командам разработчиков отслеживать и анализировать любой 
компонент с открытым исходным кодом, добавленный в проект. SCA теперь является неотъемлемой опорой в тестировании 
безопасности, поскольку современные приложения все чаще состоят из кода с открытым исходным кодом. В настоящее время 
одной из самых больших проблем, с которыми сталкиваются команды разработчиков, является обеспечение безопасности их 
кодовой базы, поскольку приложения собираются из разных строительных блоков.

#### DAST

DAST означает Dynamic Application Security Testing, метод тестирования черного ящика, который находит уязвимости во 
время выполнения. DAST — это инструмент для сканирования любого веб-приложения с целью обнаружения уязвимостей 
безопасности. Этот инструмент используется для обнаружения уязвимостей внутри веб-приложения, развернутого в 
производстве. Инструменты DAST всегда отправляют оповещения группе безопасности, назначенной для немедленного 
устранения.

Как работает DAST

DAST работает, имитируя автоматизированные атаки на приложение, имитируя злонамеренного злоумышленника. Цель состоит 
в том, чтобы найти неожиданные результаты или результаты, которые злоумышленники могли бы использовать для 
компрометации приложения. Поскольку инструменты DAST не имеют внутренней информации о приложении или исходном коде, 
они атакуют так же, как это сделал бы внешний хакер — с теми же ограниченными знаниями и информацией о приложении.



DAST — это инструмент, который можно интегрировать на очень ранних этапах жизненного цикла разработки программного 
обеспечения. Его цель — помочь организациям снизить и защититься от риска, который могут вызвать уязвимости 
приложений. Он сильно отличается от SAST, поскольку DAST использует методологию тестирования Black Box; он проводит 
оценку уязвимости извне, поскольку не имеет доступа к исходному коду приложения. DAST обычно используется на этапе 
тестирования SDLC.

#### IAST

IAST означает интерактивное тестирование безопасности приложений, которое анализирует код на наличие уязвимостей 
безопасности во время работы приложения. Обычно оно развертывается бок о бок с основным приложением на сервере 
приложений. IAST — это инструмент безопасности приложений, разработанный для веб- и мобильных приложений, 
позволяющий обнаруживать и сообщать о проблемах даже во время работы. Прежде чем кто-то сможет полностью понять 
понимание IAST, он должен знать, что означают SAST и DAST. IAST был разработан, чтобы устранить все ограничения как 
в SAST, так и в DAST. Он использует методологию тестирования «серого ящика». 

Как работает IAST
Тестирование IAST происходит в режиме реального времени, как и DAST, пока приложение работает в промежуточной среде. 
IAST может определить строку кода, вызывающую проблемы безопасности, и быстро сообщить разработчику для немедленного 
исправления. IAST проверяет исходный код аналогично SAST, но на этапе после сборки, в отличие от SAST, который 
происходит во время разработки. Агенты IAST обычно развертываются на серверах приложений. Когда сканер DAST 
выполняет свою работу, сообщая об уязвимости, развернутый агент IAST теперь будет возвращать номер строки проблемы 
из исходного кода. Может развертывать агенты IAST на сервере приложений. Во время функционального тестирования, 
выполняемого тестировщиком QA, агент изучает каждый шаблон, которому следует передача данных внутри приложения, 
независимо от того, является ли он опасным. Например, если данные поступают от пользователя, и пользователь хочет 
выполнить SQL- инъекцию в приложении, добавив SQL- запрос к запросу, запрос будет помечен как опасный.



#### RASP
«RASP» означает Runtime Application Self Protection (самозащита приложений во время выполнения). RASP — это 
приложение во время выполнения, интегрированное в приложение для анализа входящего и исходящего трафика и 
поведенческих моделей конечного пользователя для предотвращения атак на безопасность. Этот инструмент отличается от 
других инструментов, поскольку RASP используется после выпуска продукта, что делает его более ориентированным на 
безопасность инструментом по сравнению с другими, известными для тестирования.

Как работает RASP 
RASP развертывается на веб-сервере или сервере приложений рядом с основным приложением во время 
работы для мониторинга и анализа поведения входящего и исходящего трафика. Сразу после обнаружения проблемы RASP 
отправляет оповещения в службу безопасности и немедленно блокирует доступ лицу, сделавшему запрос. Когда вы 
развертываете RASP, он защищает все приложение от различных атак. Он не просто ждет или пытается полагаться только 
на определенные сигнатуры некоторых известных уязвимостей.

RASP — это комплексное решение, которое отслеживает каждую деталь различных атак на ваше приложение и знает его 
поведение. 

Выбор инструментов

SAST, DAST и IAST — отличные инструменты, которые дополняют друг друга.  Ключевое преимущество DAST в том, что он 
выявляет проблемы во время выполнения — слабые стороны, которые невозможно обнаружить, когда приложение не запущено. 
SAST отлично выявляет уязвимости во время написания кода. Кроме того, DAST анализирует, как приложение реагирует на 
атаку, предоставляя полезную информацию о том, насколько вероятно, что эта уязвимость будет использована. AST 
обеспечивает DevSecOps и поддерживает непрерывное тестирование, мониторинг, оценку и проверку в режиме реального 
времени. IAST помогает расставлять приоритеты и оповещать о жизненно важных критических рисках, определяемых 
бизнес-целями и потребностями в безопасности приложений. Эксперты по безопасности всегда поддерживают использование 
двух или более из этих инструментов для обеспечения лучшего покрытия, что снизит риск уязвимостей в производстве. 
Убедитесь, что вы подгоняете эти инструменты под способ, которым инженеры продвигают код и взаимодействуют с 
конвейером; следите за интеграциями и сосредоточьтесь на предоставлении поддержки и обучения, а не на том, чтобы 
быть блокировщиком. Например, если вы выберете SAST, вы сможете интегрировать его, когда инженеры будут отправлять 
код, и они смогут получить обратную связь по PR перед слиянием.

Хронология автоматизации безопасности приложений
Ознакомьтесь со схемой ниже, чтобы увидеть, где можно разместить инструменты тестирования безопасности!

Хронология тестирования безопасности

Выше приведена стандартная временная шкала при выборе времени внедрения инструментария тестирования безопасности. 
Как было описано ранее, SAST — это статический подход; нет необходимости в запущенном приложении. Поэтому SAST можно 
внедрить на самых ранних этапах разработки. SCA обычно лучше всего подходит для идентификации компонентов с открытым 
исходным кодом, таких как пакеты через зависимости. Он также полезен для идентификации используемых лицензий с 
открытым исходным кодом, особенно с точки зрения правового риска. Благодаря этому вы можете реализовать управление и 
контроль, применяя политики безопасности и лицензирования на разных этапах SDLC.

С другой стороны, DAST полагается на выполнение приложения, поэтому его интеграция в конвейер не так проста, как 
SAST . DAST обычно внедряется после этапа принятия кода и этапа подготовки к производству. На этом этапе приложение 
начинает работать в тестовых средах (например, песочница/промежуточная среда), похожих на IAST. DAST и IAST 
находятся в самом правом углу конвейера, поскольку выполнение вашего приложения требуется для того, чтобы 
инструменты DAST выполняли свою работу. Это может занять довольно много времени, особенно если ваше приложение со 
временем разрослось. RASP  помогает обнаруживать сторонние пакеты и связанные с ними уязвимости во время выполнения, 
более эффективно позволяя разработчикам расставлять приоритеты по исправлению и смягчению их самых острых 
уязвимостей. Обычно это включается на этапе производства, поскольку уязвимости безопасности оцениваются во время 
выполнения приложения.

### Ответьте на вопросы ниже
Рекомендуется ли использовать анализ SAST в начале SDLC? (да/нет)
```commandline
y
```
Какой тип анализа кода использует метод черного ящика?
```commandline
DAST
```
Какой тип анализа кода использует метод «белого ящика»?
```commandline
SAST
```

## Задание 7
Оценка безопасности

Оценка безопасности играет первостепенную роль в достижении безопасности в SDLC и должна быть реализована на всех 
этапах, где это возможно. Тестирование безопасности оценивает систему, программное обеспечение или веб-приложение на 
предмет уязвимостей и других векторов атак. Поскольку они тестируют с целостной точки зрения приложения, они обычно 
проводятся в конце SDLC, на этапе эксплуатации и обслуживания, после того как версия включает все рабочие 
компоненты и обновления. Существует два типа оценок: тестирование на проникновение и оценка уязвимости. Обычно 
компания нанимает и уполномочивает внешних тестировщиков безопасности попытаться легально проникнуть в сеть и 
системы компании.



Оценка уязвимости

Оценки уязвимостей фокусируются на поиске уязвимостей, но не проверяют их или не моделируют результаты, чтобы 
доказать, что они могут быть использованы в реальности. Обычно автоматизированные инструменты работают против сети и 
систем организации. Примеры инструментов: OpenVAS, Nessus (Tenable) и ISS Scanner. Эти сканеры проверяют порты и 
службы в системах в различных системах и IP-адресах. Другие действия включают проверку версий служб по базе данных 
уязвимостей, влияющих на указанную версию. Результатом является отчет со списком уязвимостей, которые обычно 
обнаруживаются, с автоматизированной классификацией уровня серьезности угрозы, например, Высокий/Средний/Низкий или 
назначенной оценкой CVSS.

Тестирование на проникновение

Он включает тестирование уязвимостей, но идет более глубоко. Он расширен за счет тестирования/проверки уязвимостей, 
количественной оценки рисков и попыток проникновения в системы. Например, при попытке повысить привилегии после 
обнаружения уязвимости некоторые уязвимости могут представлять меньший риск, но могут использоваться в качестве 
рычага для нанесения большего ущерба. Тестировщик может предоставить подробный отчет с предлагаемыми контрмерами для 
смягчения уязвимостей. Это облегчает понимание угроз, демонстрируя фактический риск, например, восстановление пароля 
сотрудника путем эксплуатации упомянутой уязвимости.
 

### Ответьте на вопросы ниже
Какая форма оценки более экономична и занимает меньше времени?
```commandline
Vulnerability Assessment
```
Какой тип оценки выявляет уязвимости и попытки их эксплуатации?
```commandline
Penetration Testing
```
Когда вы обычно проводите оценку уязвимости или пентесты?
```commandline
Operations & Maintenance
```

## Задание 8
#### Методологии SSDLC
Вы можете следовать различным методологиям для лучшей интеграции безопасности в SDLC . Прежде чем мы углубимся в 
каждый метод, независимо от выбранной методологии разработки (Agile, DevOps , Extreme Waterfall и т. д.), необходимо:

Стройте с учетом безопасности

Внедрение тестирования, ориентированного на безопасность

Существует несколько методологий SDLC ; вот некоторые примеры широко используемых методологий:

- Жизненный цикл разработки безопасности Microsoft ( SDL )
- Проект жизненного цикла разработки безопасного программного обеспечения OWASP (S- SDLC )

Точки соприкосновения безопасности программного обеспечения

#### SDL от Microsoft

Принципы SDL :
- Безопасность по замыслу: безопасность — это встроенный атрибут качества, влияющий на весь жизненный цикл 
программного обеспечения.
- Безопасность по умолчанию: программные системы создаются таким образом, чтобы свести к минимуму потенциальный вред,
  причиняемый злоумышленниками, например, программное обеспечение развертывается с минимальными необходимыми 
  привилегиями.
- Безопасность развертывания: развертывание программного обеспечения сопровождается инструментами и рекомендациями 
  для поддержки пользователей и администраторов.
- Коммуникации: разработчики программного обеспечения готовы к возникающим угрозам, открыто и своевременно общаясь с 
  пользователями и администраторами.


SDL — это набор обязательных мероприятий по безопасности, сгруппированных по традиционным фазам жизненного цикла 
разработки ПО. Данные собираются для оценки эффективности обучения. Метрики в процессе используются для 
подтверждения соответствия процесса. Метрики после выпуска используются для управления будущими изменениями. SDL 
уделяет большое внимание пониманию причин и следствий уязвимостей безопасности. Команда разработчиков должна 
выполнить обязательные мероприятия по безопасности для соответствия процессу Microsoft SDL. Вы можете внедрить SDL, 
следуя этим практикам:


- **Обеспечить обучение**
Инженеры, менеджеры программ и продуктов должны понимать основы безопасности и знать, как встроить безопасность в 
программное обеспечение и услуги, чтобы сделать продукты более безопасными, при этом отвечая потребностям бизнеса и 
обеспечивая ценность для пользователей.
Практическое обучение будет дополнять и усиливать политики безопасности, практики SDL , стандарты и требования 
безопасности программного обеспечения и будет основываться на знаниях, полученных с помощью данных или новых 
доступных технических возможностей.
- **Определить требования безопасности**
Рассмотрение безопасности и конфиденциальности является основополагающим аспектом разработки высокозащищенных 
приложений и систем. Независимо от используемой методологии разработки, необходимо постоянно обновлять требования 
безопасности, чтобы отражать изменения в требуемой функциональности и изменения в ландшафте угроз.
- **Определение показателей и отчетности о соответствии** 
Важно определить минимально приемлемые уровни качества безопасности и возложить на инженерные команды 
ответственность за соблюдение этих критериев. Определение их на раннем этапе помогает команде понимать риски, 
связанные с проблемами безопасности, выявлять и устранять дефекты безопасности во время разработки и применять 
стандарты на протяжении всего проекта.
- **Выполнить моделирование угроз**
Такая практика позволяет группам разработчиков рассматривать, документировать и обсуждать последствия проектов для 
безопасности в запланированной рабочей среде и в структурированном виде.
 Применение структурированного подхода к сценариям угроз помогает команде эффективнее и с меньшими затратами 
выявлять уязвимости безопасности, определять риски, связанные с этими угрозами, выбирать функции безопасности и 
устанавливать соответствующие меры по смягчению последствий.
- **Установить требования к проектированию**
SDL обычно рассматривается как деятельность по обеспечению безопасности, которая помогает инженерам внедрять 
«безопасные функции», в том смысле, что эти функции хорошо спроектированы с точки зрения безопасности. Инженеры 
обычно полагаются на функции безопасности, такие как криптография, аутентификация, ведение журнала и т. д. Во многих 
случаях выбор или реализация функций безопасности оказываются настолько сложными, что выбор дизайна или реализации 
может привести к уязвимостям. Поэтому крайне важно применять их последовательно и с последовательным пониманием их 
защиты.
- **Определение и использование стандартов криптографии**
Крайне важно обеспечить защиту всех данных, включая конфиденциальную информацию и данные управления и контроля, от 
непреднамеренного раскрытия или изменения при передаче или хранении. Для этого обычно используется шифрование. 
Например,  используйте только проверенные в отрасли библиотеки шифрования и убедитесь, что они реализованы так, 
чтобы их можно было легко заменить при необходимости.
- **Управляйте рисками безопасности, связанными с использованием сторонних компонентов**
При выборе сторонних компонентов для использования важно понимать влияние уязвимости безопасности на безопасность 
более обширной системы, в которую они интегрированы. Наличие точного перечня сторонних компонентов и плана 
реагирования при обнаружении новых уязвимостей будет иметь большое значение для снижения этого риска.
- **Используйте одобренные инструменты**
Определите и опубликуйте список одобренных инструментов и связанных с ними проверок безопасности, таких как 
параметры компилятора/линкера и предупреждения. Инженеры должны стремиться использовать последнюю версию одобренных 
инструментов, таких как версии компилятора, и использовать преимущества новых функций анализа безопасности и защиты.
- **Выполнение тестирования безопасности (SAST, DAST, IAST)**
Анализ исходного кода перед компиляцией обеспечивает высокомасштабируемый метод проверки кода безопасности и помогает гарантировать соблюдение политик безопасного кодирования. То же самое касается выполнения проверки во время выполнения полностью скомпилированного или упакованного программного обеспечения, проверяющего функциональность, которая становится очевидной только тогда, когда все компоненты интегрированы и работают.
- **Проведение оценки безопасности: оценка уязвимости и тестирование на проникновение**
Целью теста на проникновение является выявление потенциальных уязвимостей, возникающих из-за ошибок кодирования, ошибок конфигурации системы или других слабостей оперативного развертывания. Таким образом, тест обычно обнаруживает максимально широкий спектр уязвимостей. 
- **Установить стандартный процесс реагирования на инциденты** 
Подготовка плана реагирования на инциденты имеет решающее значение для помощи в устранении новых угроз, которые могут возникнуть со временем.  План должен включать в себя информацию о том, с кем следует связаться в случае чрезвычайной ситуации, связанной с безопасностью, и устанавливать протокол обслуживания безопасности, включая методы для кода, унаследованного от других групп в организации, и для стороннего кода. 
 
#### S- SDLC OWASP

S- Принципы SDLC
SDL представляет собой набор обязательных мероприятий по обеспечению безопасности, сгруппированных по традиционным 
фазам жизненного цикла разработки программного обеспечения.

Данные собираются для оценки эффективности обучения.

Для подтверждения соответствия процесса используются внутрипроизводственные показатели.

Показатели, полученные после релиза, используются для определения будущих изменений.

SDL уделяет большое внимание пониманию причин и следствий уязвимостей безопасности.

Команда разработчиков должна выполнить шестнадцать обязательных мероприятий по обеспечению безопасности для 
соответствия процессу Microsoft SDL.


Методология OWASP SSDLC
OWASP S-SDLC нацелен на создание «ворот качества безопасности» для поддержки качественного и безопасного 
программного обеспечения, созданного на протяжении всего конвейера. Это делается с помощью подхода Agile Security, 
где спринты посвящены безопасности. Примерами спринтов могут быть: обзоры кода, аутентификация, авторизация, 
проверка входных данных и оценка технических рисков, таких как инъекции кода. Ворота включают спринты, 
сосредоточенные на аналогичных строительных блоках, подобных тем, что видны в Microsoft SDL. Подход OWASP S-SDLC 
Agile во многом зависит от подхода «Модель зрелости» и основан на нем, в частности, на OWASP SAMM. Модель зрелости 
обеспечения программного обеспечения (SAMM) — это открытая структура, помогающая организациям формулировать и 
внедрять стратегию безопасности программного обеспечения, адаптированную к конкретным рискам организации. Она 
помогает оценить существующие в организации практики обеспечения безопасности программного обеспечения, создать 
программу обеспечения безопасности программного обеспечения, продемонстрировать улучшения этой программы, а также 
определить и измерить мероприятия по обеспечению безопасности для организации. SAMM помогает объяснить цели, 
действия, результаты, показатели успеха, затраты и т. д. Примером может служить оценочная карта безопасности для 
анализа пробелов, например, в определенной области, например, защита конечных точек. Она направлена на то, чтобы 
ответить на вопрос «Насколько хорошо мы справляемся и куда мы хотим прийти?». Ссылка на OWASP SAMM


Другая важная модель безопасности — Building Security In Maturity Model (BSIMM). BSIMM — это исследование реальных 
инициатив по безопасности программного обеспечения, отражающее текущее состояние безопасности программного 
обеспечения.  BSIMM можно описать как «измерительную палку» для понимания вашего состояния безопасности путем 
сравнения состояний безопасности других компаний. Другими словами, она не говорит вам, что вам следует делать, а 
скорее то, что вы делаете неправильно. В этом участвуют сотни организаций. Ссылка на BSIMM

### Ответьте на вопросы ниже
Какая методология следует набору обязательных процедур, встроенных в SDLC?
```commandline
Microsoft SDL
```
Какая модель зрелости поможет вам оценить индивидуальные риски, с которыми сталкивается ваша организация?
```commandline
SAMM
```
Какая модель зрелости служит мерилом для определения вашей позиции безопасности?
```commandline
BSIMM
```

## Задание 9
Введение
Обеспечьте себе возможность безопасного прохождения SDLC, выбрав безопасные процессы, которые вы можете реализовать 
на каждом этапе.

Безопасного путешествия!

Для  начала выберите View Site

### Ответьте на вопросы ниже
Что такое флаг?
```commandline
THM{D0-A-Barr3l-R011}
```
[>> вернуться на главную страницу](https://github.com/BEPb/tryhackme/blob/master/README.md)